(self.webpackChunksoapbox=self.webpackChunksoapbox||[]).push([[49],{1419:function(e,t,a){"use strict";a.d(t,{z:function(){return u}});var r=a(1565),n=a(641),o=a(1578),i=a(2141),s=a(2),u=function(e){var t=e.to,u=e.count,c=e.size,d=void 0===c?"md":c;return(0,r.Z)(i.rU,{to:t,className:"group","data-testid":"pending-items-row"},void 0,(0,r.Z)(s.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(s.Ug,{alignItems:"center",space:2},void 0,(0,r.Z)("div",{className:(0,n.default)("rounded-full bg-primary-200 text-primary-500 dark:bg-primary-800 dark:text-primary-200",{"p-3":"lg"===d,"p-2.5":"md"===d})},void 0,(0,r.Z)(s.JO,{src:a(1543),className:(0,n.default)({"h-5 w-5":"md"===d,"h-7 w-7":"lg"===d})})),(0,r.Z)(s.xv,{weight:"bold",size:"md"},void 0,(0,r.Z)(o.Z,{id:"groups.pending.count",defaultMessage:"{number, plural, one {# pending request} other {# pending requests}}",values:{number:u}}))),(0,r.Z)(s.JO,{src:a(294),className:"h-5 w-5 text-gray-600 transition-colors group-hover:text-gray-700 dark:text-gray-600 dark:group-hover:text-gray-500"})))}},1424:function(e,t,a){"use strict";var r=a(1565),n=a(641),o=a(1),i=a(59),s=a(2),u=o.forwardRef((function(e,t){var u=e.src,c=e.onChange,d=e.accept,l=e.disabled;return(0,r.Z)("label",{className:"absolute bottom-0 left-1/2 h-20 w-20 -translate-x-1/2 translate-y-1/2 cursor-pointer rounded-full bg-primary-500 ring-2 ring-white dark:ring-primary-900"},void 0,u&&(0,r.Z)(s.qE,{src:u,size:80}),(0,r.Z)(s.Ug,{alignItems:"center",justifyContent:"center",className:(0,n.default)("absolute left-0 top-0 h-full w-full rounded-full transition-opacity",{"opacity-0 hover:opacity-90 bg-primary-500":u})},void 0,(0,r.Z)(i.Z,{src:a(1545),className:"h-5 w-5 text-white"})),(0,r.Z)("span",{className:"sr-only"},void 0,"Upload avatar"),o.createElement("input",{ref:t,name:"avatar",type:"file",accept:d,onChange:c,disabled:l,className:"hidden"}))}));t.Z=u},1425:function(e,t,a){"use strict";var r=a(1565),n=a(641),o=a(1),i=a(1578),s=a(59),u=a(2),c=o.forwardRef((function(e,t){var c=e.src,d=e.onChange,l=e.accept,g=e.disabled;return(0,r.Z)("label",{className:"dark:sm:shadow-inset relative h-24 w-full cursor-pointer overflow-hidden rounded-lg bg-primary-100 text-primary-500 dark:bg-gray-800 dark:text-accent-blue sm:h-36 sm:shadow"},void 0,c&&(0,r.Z)("img",{className:"h-full w-full object-cover",src:c,alt:""}),(0,r.Z)(u.Ug,{className:(0,n.default)("absolute top-0 h-full w-full transition-opacity",{"opacity-0 hover:opacity-90 bg-primary-100 dark:bg-gray-800":c}),space:1.5,alignItems:"center",justifyContent:"center"},void 0,(0,r.Z)(s.Z,{src:a(1030),className:"h-4.5 w-4.5"}),(0,r.Z)(u.xv,{size:"md",theme:"primary",weight:"semibold"},void 0,(0,r.Z)(i.Z,{id:"group.upload_banner",defaultMessage:"Upload photo"})),o.createElement("input",{ref:t,name:"header",type:"file",accept:l,onChange:d,disabled:g,className:"hidden"})))}));t.Z=c},1426:function(e,t,a){"use strict";var r=a(1565),n=a(2132),o=a(1578),i=a(1566),s=a(2),u=(0,n.vU)({hashtagPlaceholder:{id:"manage_group.fields.hashtag_placeholder",defaultMessage:"Add a topic"}}),c=function(e){var t=e.value,a=e.onChange,n=e.autoFocus,o=void 0!==n&&n,c=(0,i.Z)();return(0,r.Z)(s.II,{outerClassName:"w-full",type:"text",value:t,onChange:function(e){var t=e.target;a(t.value)},placeholder:c.formatMessage(u.hashtagPlaceholder),autoFocus:o})};t.Z=function(e){var t=e.tags,a=e.onChange,n=e.onAddItem,i=e.onRemoveItem,u=e.maxItems,d=void 0===u?3:u;return(0,r.Z)(s.uc,{label:(0,r.Z)(o.Z,{id:"group.tags.label",defaultMessage:"Tags"}),hint:(0,r.Z)(o.Z,{id:"group.tags.hint",defaultMessage:"Add up to 3 keywords that will serve as core topics of discussion in the group."}),component:c,values:t,onChange:a,onAddItem:n,onRemoveItem:i,maxItems:d,minItems:1})}},1622:function(e,t,a){"use strict";a.r(t);var r=a(1577),n=a(1565),o=a(2125),i=a(1557),s=a(2126),u=(a(40),a(44),a(0),a(24),a(9),a(74),a(8),a(57),a(5),a(1)),c=a(2132),d=a(1566),l=a(1578),g=a(70),p=a(2),m=a(3),f=a(1032),v=a(34),Z=a(137),h=a(1424),b=a(1425),y=a(1426),M=function(e){return e&&(0,Z.NF)(e)?void 0:e},x=(0,c.vU)({heading:{id:"navigation_bar.edit_group",defaultMessage:"Edit Group"},groupNamePlaceholder:{id:"manage_group.fields.name_placeholder",defaultMessage:"Group Name"},groupDescriptionPlaceholder:{id:"manage_group.fields.description_placeholder",defaultMessage:"Description"},groupSaved:{id:"group.update.success",defaultMessage:"Group successfully saved"}});t.default=function(e){var t,c,w=e.params.groupId,_=(0,d.Z)(),N=(0,m.fz)(),k=(0,g._v)(w),C=k.group,I=k.isLoading,O=(0,g.Sc)(w).updateGroup,S=(0,u.useState)(!1),T=(0,s.Z)(S,2),P=T[0],R=T[1],E=(0,u.useState)([""]),U=(0,s.Z)(E,2),j=U[0],G=U[1],L=(0,f.XB)({maxPixels:16e4,preview:(c=null==C?void 0:C.avatar,c&&(0,Z.z_)(c)?void 0:c)}),z=(0,f.XB)({maxPixels:2073600,preview:M(null==C?void 0:C.header)}),q=(0,f.hR)(null==C?void 0:C.display_name),F=(0,f.hR)(null==C?void 0:C.note_plain),A=Number(N.configuration.getIn(["groups","max_characters_name"])),D=Number(N.configuration.getIn(["groups","max_characters_description"])),K=null===(t=(0,m.CG)((function(e){return e.instance.configuration.getIn(["media_attachments","supported_mime_types"])})))||void 0===t?void 0:t.filter((function(e){return e.startsWith("image/")})).toArray().join(",");function H(){return(H=(0,i.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,O({display_name:q.value,note:F.value,avatar:L.file,header:z.file,tags:j},{onSuccess:function(){v.Z.success(_.formatMessage(x.groupSaved))},onError:function(e){var t,a,r,n=null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error;422===(null===(r=e.response)||void 0===r?void 0:r.status)&&void 0!==n&&v.Z.error(n)}});case 3:R(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)((function(){C&&G(C.tags.map((function(e){return e.name})))}),[null==C?void 0:C.id]),I?(0,n.Z)(p.$j,{}):(0,n.Z)(p.sg,{label:_.formatMessage(x.heading)},void 0,(0,n.Z)(p.l0,{onSubmit:function(){return H.apply(this,arguments)}},void 0,(0,n.Z)("div",{className:"relative mb-12 flex"},void 0,u.createElement(b.Z,(0,r.Z)({accept:K,disabled:P},z)),u.createElement(h.Z,(0,r.Z)({accept:K,disabled:P},L))),(0,n.Z)(p.cw,{labelText:(0,n.Z)(l.Z,{id:"manage_group.fields.name_label_optional",defaultMessage:"Group name"}),hintText:(0,n.Z)(l.Z,{id:"manage_group.fields.cannot_change_hint",defaultMessage:"This cannot be changed after the group is created."})},void 0,u.createElement(p.II,(0,r.Z)({type:"text",placeholder:_.formatMessage(x.groupNamePlaceholder),maxLength:A},q,{append:(0,n.Z)(p.JO,{className:"h-5 w-5 text-gray-600",src:a(205)}),disabled:!0}))),(0,n.Z)(p.cw,{labelText:(0,n.Z)(l.Z,{id:"manage_group.fields.description_label",defaultMessage:"Description"})},void 0,u.createElement(p.gx,(0,r.Z)({autoComplete:"off",placeholder:_.formatMessage(x.groupDescriptionPlaceholder),maxLength:D},F))),(0,n.Z)("div",{className:"pb-6"},void 0,(0,n.Z)(y.Z,{tags:j,onChange:G,onAddItem:function(){G([].concat((0,o.Z)(j),[""]))},onRemoveItem:function(e){var t=(0,o.Z)(j);t.splice(e,1),G(t)}})),(0,n.Z)(p.iN,{},void 0,(0,n.Z)(p.zx,{theme:"primary",type:"submit",disabled:P,block:!0},void 0,(0,n.Z)(l.Z,{id:"edit_profile.save",defaultMessage:"Save"})))))}},1623:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=(a(28),a(5),a(1)),o=a(2132),i=a(1566),s=a(1578),u=a(269),c=a(70),d=a(138),l=a(52),g=a(2),p=a(3),m=a(42),f=a(34),v=a(596),Z=(0,o.vU)({heading:{id:"column.group_blocked_members",defaultMessage:"Banned Members"},unblock:{id:"group.group_mod_unblock",defaultMessage:"Unban"},unblocked:{id:"group.group_mod_unblock.success",defaultMessage:"Unbanned @{name} from group"}}),h=function(e){var t=e.accountId,a=e.groupId,o=(0,i.Z)(),s=(0,p.TL)(),c=(0,n.useCallback)((0,m.Tm)(),[]),l=(0,p.CG)((function(e){return c(e,t)}));return l?(0,r.Z)(g.Ug,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,(0,r.Z)("div",{className:"w-full"},void 0,(0,r.Z)(d.Z,{account:l,withRelationship:!1})),(0,r.Z)(g.zx,{theme:"secondary",text:o.formatMessage(Z.unblock),onClick:function(){return s((0,u.mN)(a,t)).then((function(){return f.Z.success(o.formatMessage(Z.unblocked,{name:l.acct}))}))}})):null};t.default=function(e){var t=e.params,a=(0,i.Z)(),o=(0,p.TL)(),d=null==t?void 0:t.groupId,m=(0,c._v)(d).group,f=(0,p.CG)((function(e){var t;return null===(t=e.user_lists.group_blocks.get(d))||void 0===t?void 0:t.items}));if((0,n.useEffect)((function(){o((0,u.R5)(d))}),[d]),!m||!m.relationship||!f)return(0,r.Z)(g.sg,{label:a.formatMessage(Z.heading)},void 0,(0,r.Z)(g.$j,{}));if(!m.relationship.role||!["owner","admin","moderator"].includes(m.relationship.role))return(0,r.Z)(v.Z,{});var b=(0,r.Z)(s.Z,{id:"empty_column.group_blocks",defaultMessage:"The group hasn't banned any users yet."});return(0,r.Z)(g.sg,{label:a.formatMessage(Z.heading),backHref:"/group/".concat(m.slug,"/manage")},void 0,(0,r.Z)(l.Z,{scrollKey:"group_blocks",emptyMessage:b,emptyMessageCard:!1},void 0,f.map((function(e){return(0,r.Z)(h,{accountId:e,groupId:d},e)}))))}},1625:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=a(2125),o=(a(27),a(0),a(4),a(5),a(93),a(8),a(1578)),i=a(1575),s=a(70),u=a(678),c=a(149),d=a(2),l=a(3),g=a(612);t.default=function(e){var t=e.params.groupId,a=(0,l.TL)(),p=(0,s._v)(t),m=p.group,f=p.isLoading,v=(0,s.WT)(t),Z=v.entities,h=v.fetchNextPage,b=v.isLoading,y=v.isFetching,M=v.hasNextPage,x=Z.reduce((function(e,t){return e.push.apply(e,(0,n.Z)(t.media_attachments.map((function(e){return e.set("status",t)})))),e}),[]),w=function(e){if("video"===e.type)a((0,i.h7)("VIDEO",{media:e,status:e.status,account:e.account}));else{var t=e.status.media_attachments,r=t.findIndex((function(t){return t.id===e.id}));a((0,i.h7)("MEDIA",{media:t,index:r,status:e.status}))}};return b||f?(0,r.Z)(d.sg,{transparent:!0,withHeader:!1},void 0,(0,r.Z)("div",{className:"pt-6"},void 0,(0,r.Z)(d.$j,{}))):m?(0,r.Z)(d.sg,{label:m.display_name,transparent:!0,withHeader:!1},void 0,(0,r.Z)("div",{role:"feed",className:"mt-4 grid grid-cols-2 gap-2 sm:grid-cols-3"},void 0,x.map((function(e){return(0,r.Z)(g.Z,{attachment:e,onOpenMedia:w},"".concat(e.status.id,"+").concat(e.id))})),!b&&0===x.length&&(0,r.Z)("div",{className:"empty-column-indicator col-span-2 sm:col-span-3"},void 0,(0,r.Z)(o.Z,{id:"account_gallery.none",defaultMessage:"No media to show."}))),M&&(0,r.Z)(u.Z,{className:"mt-4",disabled:y,onClick:h})):(0,r.Z)("div",{className:"pt-6"},void 0,(0,r.Z)(c.Z,{nested:!0}))}},1174:function(e,t,a){"use strict";a.r(t),a.d(t,{MAX_ADMIN_COUNT:function(){return N},default:function(){return k}});var r=a(1565),n=a(2125),o=(a(8),a(9),a(0),a(5),a(641)),i=a(1),s=a(70),u=a(1419),c=a(52),d=a(3),l=a(160),g=a(614),p=(a(4),a(2132)),m=a(1566),f=a(269),v=a(1575),Z=a(138),h=a(686),b=a(2),y=a(1573),M=a(68),x=a(34),w=(0,p.vU)({adminLimitTitle:{id:"group.member.admin.limit.title",defaultMessage:"Admin limit reached"},adminLimitSummary:{id:"group.member.admin.limit.summary",defaultMessage:"You can assign up to {count} admins for the group at this time."},blockConfirm:{id:"confirmations.block_from_group.confirm",defaultMessage:"Ban"},blockFromGroupHeading:{id:"confirmations.block_from_group.heading",defaultMessage:"Ban From Group"},blockFromGroupMessage:{id:"confirmations.block_from_group.message",defaultMessage:"Are you sure you want to ban @{name} from the group?"},blocked:{id:"group.group_mod_block.success",defaultMessage:"@{name} is banned"},demotedToUser:{id:"group.demote.user.success",defaultMessage:"@{name} is now a member"},groupModBlock:{id:"group.group_mod_block",defaultMessage:"Ban from group"},groupModDemote:{id:"group.group_mod_demote",defaultMessage:"Remove {role} role"},groupModKick:{id:"group.group_mod_kick",defaultMessage:"Kick @{name} from group"},groupModPromoteMod:{id:"group.group_mod_promote_mod",defaultMessage:"Assign {role} role"},kickConfirm:{id:"confirmations.kick_from_group.confirm",defaultMessage:"Kick"},kickFromGroupMessage:{id:"confirmations.kick_from_group.message",defaultMessage:"Are you sure you want to kick @{name} from this group?"},kicked:{id:"group.group_mod_kick.success",defaultMessage:"Kicked @{name} from group"},promoteConfirm:{id:"group.promote.admin.confirmation.title",defaultMessage:"Assign Admin Role"},promoteConfirmMessage:{id:"group.promote.admin.confirmation.message",defaultMessage:"Are you sure you want to assign the admin role to @{name}?"},promotedToAdmin:{id:"group.promote.admin.success",defaultMessage:"@{name} is now an admin"}}),_=function(e){var t,n,u=e.canPromoteToAdmin,c=e.member,p=e.group,_=(0,d.TL)(),k=(0,d.hz)(),C=(0,m.Z)(),I=(0,s.OH)(p,c),O=(0,s.hb)(p,c),S=(0,s.Hf)(p,c),T=(0,s.mA)(c.account.id),P=T.account,R=T.isLoading,E=(null===(t=p.relationship)||void 0===t?void 0:t.role)===l.y.OWNER,U=(null===(n=p.relationship)||void 0===n?void 0:n.role)===l.y.ADMIN,j=c.role===l.y.OWNER,G=c.role===l.y.ADMIN,L=c.role===l.y.USER,z=function(){_((0,v.h7)("CONFIRM",{message:C.formatMessage(w.kickFromGroupMessage,{name:null==P?void 0:P.username}),confirm:C.formatMessage(w.kickConfirm),onConfirm:function(){return _((0,f.od)(p.id,null==P?void 0:P.id)).then((function(){return x.Z.success(C.formatMessage(w.kicked,{name:null==P?void 0:P.acct}))}))}}))},q=function(){_((0,v.h7)("CONFIRM",{heading:C.formatMessage(w.blockFromGroupHeading),message:C.formatMessage(w.blockFromGroupMessage,{name:null==P?void 0:P.username}),confirm:C.formatMessage(w.blockConfirm),onConfirm:function(){I({account_ids:[c.account.id]},{onSuccess:function(){_((0,y._L)([c.id],M.j.GROUP_MEMBERSHIPS)),x.Z.success(C.formatMessage(w.blocked,{name:null==P?void 0:P.acct}))}})}}))},F=function(){u?_((0,v.h7)("CONFIRM",{heading:C.formatMessage(w.promoteConfirm),message:C.formatMessage(w.promoteConfirmMessage,{name:null==P?void 0:P.username}),confirm:C.formatMessage(w.promoteConfirm),confirmationTheme:"primary",onConfirm:function(){O({role:l.y.ADMIN,account_ids:[null==P?void 0:P.id]},{onSuccess:function(){x.Z.success(C.formatMessage(w.promotedToAdmin,{name:null==P?void 0:P.acct}))}})}})):x.Z.error(C.formatMessage(w.adminLimitTitle),{summary:C.formatMessage(w.adminLimitSummary,{count:N})})},A=function(){S({role:l.y.USER,account_ids:[null==P?void 0:P.id]},{onSuccess:function(){x.Z.success(C.formatMessage(w.demotedToUser,{name:null==P?void 0:P.acct}))}})},D=(0,i.useMemo)((function(){var e,t=[];return p&&P&&null!==(e=p.relationship)&&void 0!==e&&e.role?(E&&(L?t.push({text:C.formatMessage(w.groupModPromoteMod,{role:l.y.ADMIN}),icon:a(595),action:F}):G&&t.push({text:C.formatMessage(w.groupModDemote,{role:l.y.ADMIN,name:P.username}),icon:a(595),action:A,destructive:!0})),(E||U)&&(G||L)&&c.role!==p.relationship.role&&(k.groupsKick&&t.push({text:C.formatMessage(w.groupModKick,{name:P.username}),icon:a(894),action:z}),t.push({text:C.formatMessage(w.groupModBlock,{name:P.username}),icon:a(110),action:q,destructive:!0})),t):t}),[p,null==P?void 0:P.id]);return R?(0,r.Z)(g.Z,{}):(0,r.Z)(b.Ug,{alignItems:"center",justifyContent:"between","data-testid":"group-member-list-item"},void 0,(0,r.Z)("div",{className:"w-full"},void 0,(0,r.Z)(Z.Z,{account:c.account,withRelationship:!1})),(0,r.Z)(b.Ug,{alignItems:"center",space:2},void 0,j||G?(0,r.Z)("span",{"data-testid":"role-badge",className:(0,o.default)("inline-flex items-center rounded px-2 py-1 text-xs font-medium capitalize",{"bg-primary-200 text-primary-500":j,"bg-gray-200 text-gray-900":G})},void 0,c.role):null,(0,r.Z)(h.Z,{items:D})))},N=5,k=function(e){var t=e.params.groupId,a=(0,d.hz)(),p=(0,s._v)(t),m=p.group,f=p.isFetching,v=(0,s.T0)(t,l.y.OWNER),Z=v.groupMembers,h=v.isFetching,b=(0,s.T0)(t,l.y.ADMIN),y=b.groupMembers,M=b.isFetching,x=(0,s.T0)(t,l.y.USER),w=x.groupMembers,k=x.isFetching,C=x.fetchNextPage,I=x.hasNextPage,O=(0,s.TH)(t),S=O.isFetching,T=O.count,P=f||h||M||k||S,R=(0,i.useMemo)((function(){return[].concat((0,n.Z)(Z),(0,n.Z)(y),(0,n.Z)(w))}),[Z,y,w]),E=!a.groupsAdminMax||R.filter((function(e){return e.role===l.y.ADMIN})).length<N;return i.createElement(i.Fragment,null,(0,r.Z)(c.Z,{scrollKey:"group-members",hasMore:I,onLoadMore:C,isLoading:!m||P,showLoading:!m||S||P&&0===R.length,placeholderComponent:g.Z,placeholderCount:3,className:"divide-y divide-solid divide-gray-200 dark:divide-gray-800",itemClassName:"py-3 last:pb-0",prepend:T>0&&(0,r.Z)("div",{className:(0,o.default)("py-3",{"border-b border-gray-200 dark:border-gray-800":R.length})},void 0,(0,r.Z)(u.z,{to:"/group/".concat(null==m?void 0:m.slug,"/manage/requests"),count:T}))},void 0,R.map((function(e){return(0,r.Z)(_,{group:m,member:e,canPromoteToAdmin:E},e.account.id)}))))}},1624:function(e,t,a){"use strict";a.r(t);var r=a(1557),n=a(1565),o=(a(40),a(28),a(5),a(0),a(24),a(1)),i=a(2132),s=a(1566),u=a(1578),c=a(70),d=a(138),l=a(679),g=a(52),p=a(2),m=a(160),f=a(34),v=a(596),Z=(0,i.vU)({heading:{id:"column.group_pending_requests",defaultMessage:"Pending requests"},authorizeFail:{id:"group.group_mod_authorize.fail",defaultMessage:"Failed to approve @{name}"},rejectFail:{id:"group.group_mod_reject.fail",defaultMessage:"Failed to reject @{name}"}}),h=function(e){var t=e.account,a=e.onAuthorize,r=e.onReject;return t?(0,n.Z)(p.Ug,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,(0,n.Z)("div",{className:"w-full"},void 0,(0,n.Z)(d.Z,{account:t,withRelationship:!1})),(0,n.Z)(l.N,{onAuthorize:function(){return a(t)},onReject:function(){return r(t)},countdown:3e3})):null};t.default=function(e){var t=e.params,a=null==t?void 0:t.groupId,i=(0,s.Z)(),d=(0,c._v)(a).group,l=(0,c.TH)(a),b=l.accounts,y=l.authorize,M=l.reject,x=l.refetch,w=l.isLoading,_=(0,c.T0)(a,m.y.USER).invalidate;if((0,o.useEffect)((function(){return function(){_()}}),[]),!d||!d.relationship||w)return(0,n.Z)(p.sg,{label:i.formatMessage(Z.heading)},void 0,(0,n.Z)(p.$j,{}));if(!d.relationship.role||!["owner","admin","moderator"].includes(d.relationship.role))return(0,n.Z)(v.Z,{});function N(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t.id).then((function(){return Promise.resolve()})).catch((function(e){var a;x();var r,n=i.formatMessage(Z.authorizeFail,{name:t.username});return 409===(null===(a=e.response)||void 0===a?void 0:a.status)&&(n=(null===(r=e.response)||void 0===r?void 0:r.data).error),f.Z.error(n),Promise.reject()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(t.id).then((function(){return Promise.resolve()})).catch((function(e){var a;x();var r,n=i.formatMessage(Z.rejectFail,{name:t.username});return 409===(null===(a=e.response)||void 0===a?void 0:a.status)&&(n=(null===(r=e.response)||void 0===r?void 0:r.data).error),f.Z.error(n),Promise.reject()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,n.Z)(p.sg,{label:i.formatMessage(Z.heading)},void 0,(0,n.Z)(g.Z,{scrollKey:"group_membership_requests",emptyMessage:(0,n.Z)(u.Z,{id:"empty_column.group_membership_requests",defaultMessage:"There are no pending membership requests for this group."})},void 0,b.map((function(e){return(0,n.Z)(h,{account:e,onAuthorize:N,onReject:C},e.id)}))))}},1619:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=(a(8),a(1)),o=a(1578),i=a(84),s=a(70),u=a(2),c=a(3),d=a(266);t.default=function(e){var t=(0,c.TL)(),l=e.params.groupId,g=e.params.tagId,p=(0,s._v)(l).group,m=(0,s.JR)(g),f=m.tag,v=m.isLoading;return(0,n.useEffect)((function(){null!=f&&f.name&&t((0,i.fz)(l,null==f?void 0:f.name))}),[l,f]),!v&&f&&p?(0,r.Z)(u.sg,{label:"#".concat(f.name)},void 0,(0,r.Z)(d.Z,{scrollKey:"group_timeline",timelineId:"group:tags:".concat(l,":").concat(f.name),onLoadMore:function(e){t((0,i.fz)(l,null==f?void 0:f.name,{maxId:e}))},divideType:"border",showGroup:!1,emptyMessageCard:!1,emptyMessage:(0,r.Z)(u.Kq,{space:4,className:"py-6",justifyContent:"center",alignItems:"center"},void 0,(0,r.Z)("div",{className:"rounded-full bg-gray-200 p-4 dark:bg-gray-800"},void 0,(0,r.Z)(u.JO,{src:a(1423),className:"h-6 w-6 text-gray-600"})),(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(o.Z,{id:"empty_column.group",defaultMessage:"There are no posts in this group yet."})))})):null}},1117:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var r=a(1565),n=(a(9),a(0),a(5),a(1578)),o=a(70),i=a(52),s=a(2),u=a(593),c=a(614),d=(a(11),a(12),a(18),a(4),a(7),a(20),a(21),a(10),a(1547)),l=(a(8),a(2132)),g=a(1566),p=a(2141),m=a(1573),f=a(68),v=a(3),Z=a(160),h=a(34),b=a(108);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=(0,l.vU)({hideTag:{id:"group.tags.hide",defaultMessage:"Hide topic"},showTag:{id:"group.tags.show",defaultMessage:"Show topic"},total:{id:"group.tags.total",defaultMessage:"Total Posts"},pinTag:{id:"group.tags.pin",defaultMessage:"Pin topic"},unpinTag:{id:"group.tags.unpin",defaultMessage:"Unpin topic"},pinSuccess:{id:"group.tags.pin.success",defaultMessage:"Pinned!"},unpinSuccess:{id:"group.tags.unpin.success",defaultMessage:"Unpinned!"},visibleSuccess:{id:"group.tags.visible.success",defaultMessage:"Topic marked as visible"},hiddenSuccess:{id:"group.tags.hidden.success",defaultMessage:"Topic marked as hidden"}}),w=function(e){var t,n=e.group,i=e.tag,u=e.isPinnable,c=(0,v.TL)(),d=(0,g.Z)(),l=(0,o.NV)(n.id,i.id).updateGroupTag,y=(null===(t=n.relationship)||void 0===t?void 0:t.role)===Z.y.OWNER,w=function(){l({group_tag_type:i.pinned?"normal":"pinned"},{onSuccess:function(){var e=M(M({},i),{},{pinned:!i.pinned});c((0,m.dT)([e],f.j.GROUP_TAGS)),h.Z.success(e.pinned?d.formatMessage(x.pinSuccess):d.formatMessage(x.unpinSuccess))}})};return(0,r.Z)(s.Ug,{alignItems:"center",justifyContent:"between","data-testid":"group-tag-list-item"},void 0,(0,r.Z)(p.rU,{to:"/group/".concat(n.slug,"/tag/").concat(i.id),className:"group grow"},void 0,(0,r.Z)(s.Kq,{},void 0,(0,r.Z)(s.xv,{weight:"bold",theme:i.visible||!y?"default":"subtle",className:"group-hover:underline","data-testid":"group-tag-name"},void 0,"#",i.name),(0,r.Z)(s.xv,{size:"sm",theme:i.visible||!y?"muted":"subtle"},void 0,d.formatMessage(x.total),":"," ",(0,r.Z)(s.xv,{size:"sm",theme:"inherit",weight:"semibold",tag:"span"},void 0,(0,b.w8)(i.uses))))),y?(0,r.Z)(s.Ug,{alignItems:"center",space:2},void 0,i.visible?u?(0,r.Z)(s.u,{text:i.pinned?d.formatMessage(x.unpinTag):d.formatMessage(x.pinTag)},void 0,(0,r.Z)(s.hU,{onClick:w,theme:"transparent",src:i.pinned?a(1031):a(585),iconClassName:"h-5 w-5 text-primary-500 dark:text-accent-blue","data-testid":"pin-icon"})):!u&&i.pinned?(0,r.Z)(s.u,{text:d.formatMessage(x.unpinTag)},void 0,(0,r.Z)(s.hU,{onClick:w,theme:"transparent",src:a(1031),iconClassName:"h-5 w-5 text-primary-500 dark:text-accent-blue"})):void 0:null,(0,r.Z)(s.u,{text:i.visible?d.formatMessage(x.hideTag):d.formatMessage(x.showTag)},void 0,(0,r.Z)(s.hU,{onClick:function(){var e=i.visible;l({group_tag_type:e?"hidden":"normal"},{onSuccess:function(){var t=M(M({},i),{},{visible:!i.visible,pinned:!e&&i.pinned});c((0,m.dT)([t],f.j.GROUP_TAGS)),h.Z.success(t.visible?d.formatMessage(x.visibleSuccess):d.formatMessage(x.hiddenSuccess))}})},theme:"transparent",src:i.visible?a(643):a(386),iconClassName:"h-5 w-5 text-primary-500 dark:text-accent-blue"}))):null)},_=function(e){var t=e.params.groupId,d=(0,u._v)(t),l=d.group,g=d.isFetching,p=(0,o.ML)(t),m=p.tags,f=p.isFetching,v=p.hasNextPage,Z=p.fetchNextPage,h=g||f,b=m.filter((function(e){return e.pinned})).length<3;return(0,r.Z)(i.Z,{scrollKey:"group-tags",hasMore:v,onLoadMore:Z,isLoading:h||!l,showLoading:!l||h&&0===m.length,placeholderComponent:c.Z,placeholderCount:3,className:"divide-y divide-solid divide-gray-300",itemClassName:"py-3 last:pb-0",emptyMessage:(0,r.Z)(s.Kq,{space:4,className:"pt-6",justifyContent:"center",alignItems:"center"},void 0,(0,r.Z)("div",{className:"rounded-full bg-gray-200 p-4 dark:bg-gray-800"},void 0,(0,r.Z)(s.JO,{src:a(1544),className:"h-6 w-6 text-gray-600"})),(0,r.Z)(s.xv,{theme:"muted"},void 0,(0,r.Z)(n.Z,{id:"group.tags.empty",defaultMessage:"There are no topics in this group yet."}))),emptyMessageCard:!1},void 0,m.map((function(e){return(0,r.Z)(w,{group:l,isPinnable:b,tag:e},e.id)})))}},1620:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=a(641),o=a(1),i=a(1566),s=a(1578),u=a(2141),c=a(62),d=a(151),l=a(84),g=a(70),p=a(2),m=a(538),f=a(3),v=a(266);t.default=function(e){var t,Z=(0,i.Z)(),h=(0,f.Tr)(),b=(0,f.TL)(),y=(0,o.useRef)(null),M=e.params.groupId,x=(0,g._v)(M).group,w="group:".concat(M),_=!!h&&(null==x||null===(t=x.relationship)||void 0===t?void 0:t.member),N=(0,f.CG)((function(e){var t;return!(null===(t=e.compose.get(w))||void 0===t||!t.group_timeline_visible)})),k=(0,f.XU)(y,(function(e){b((0,c.G)(w,e,Z))})),C=k.isDragging,I=k.isDraggedOver;return(0,o.useEffect)((function(){b((0,l.F0)(M)),b((0,c.mx)(w,M));var e=b((0,d.iZ)(M));return function(){e()}}),[M]),x?(0,r.Z)(p.Kq,{space:2},void 0,_&&(0,r.Z)("div",{className:"border-b border-solid border-gray-200 py-6 dark:border-gray-800"},void 0,o.createElement(p.Ug,{ref:y,alignItems:"start",space:4,className:(0,n.default)("relative rounded-xl transition",{"border-2 border-primary-600 border-dashed z-[99] p-4":C,"ring-2 ring-offset-2 ring-primary-600":I})},(0,r.Z)(u.rU,{to:"/@".concat(h.acct)},void 0,(0,r.Z)(p.qE,{src:h.avatar,size:46})),(0,r.Z)(m.Z,{id:w,shouldCondense:!0,autoFocus:!1,group:M,extra:!x.locked&&(0,r.Z)(p.Ug,{alignItems:"center",space:4},void 0,(0,r.Z)("label",{className:"ml-auto cursor-pointer",htmlFor:"group-timeline-visible"},void 0,(0,r.Z)(p.xv,{theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"compose_group.share_to_followers",defaultMessage:"Share with my followers"}))),(0,r.Z)(p.ZD,{id:"group-timeline-visible",checked:N,onChange:function(){b((0,c.Gr)(w,!N))},size:"sm"}))}))),(0,r.Z)(v.Z,{scrollKey:"group_timeline",timelineId:w,onLoadMore:function(e){b((0,l.F0)(M,{maxId:e}))},emptyMessage:(0,r.Z)(p.Kq,{space:4,className:"py-6",justifyContent:"center",alignItems:"center"},void 0,(0,r.Z)("div",{className:"rounded-full bg-gray-200 p-4 dark:bg-gray-800"},void 0,(0,r.Z)(p.JO,{src:a(1423),className:"h-6 w-6 text-gray-600"})),(0,r.Z)(p.xv,{theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"empty_column.group",defaultMessage:"There are no posts in this group yet."}))),emptyMessageCard:!1,divideType:"border",showGroup:!1})):null}},1621:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=(a(28),a(4),a(1)),o=a(2132),i=a(1566),s=a(2127),u=a(1575),c=a(70),d=a(100),l=a(2),g=a(3),p=a(160),m=a(34),f=a(86),v=a(596),Z=(0,o.vU)({heading:{id:"column.manage_group",defaultMessage:"Manage Group"},editGroup:{id:"manage_group.edit_group",defaultMessage:"Edit Group"},pendingRequests:{id:"manage_group.pending_requests",defaultMessage:"Pending Requests"},blockedMembers:{id:"manage_group.blocked_members",defaultMessage:"Banned Members"},deleteGroup:{id:"manage_group.delete_group",defaultMessage:"Delete Group"},deleteConfirm:{id:"confirmations.delete_group.confirm",defaultMessage:"Delete"},deleteHeading:{id:"confirmations.delete_group.heading",defaultMessage:"Delete Group"},deleteMessage:{id:"confirmations.delete_group.message",defaultMessage:"Are you sure you want to delete this group? This is a permanent action that cannot be undone."},members:{id:"group.tabs.members",defaultMessage:"Members"},other:{id:"settings.other",defaultMessage:"Other Options"},deleteSuccess:{id:"group.delete.success",defaultMessage:"Group successfully deleted"}});t.default=function(e){var t,o=e.params.groupId,h=(0,g.nc)(),b=(0,g.TL)(),y=(0,g.iP)(),M=(0,s.k6)(),x=(0,i.Z)(),w=(0,c._v)(o).group,_=(0,c.LF)(),N=(null==w||null===(t=w.relationship)||void 0===t?void 0:t.role)===p.y.OWNER;return w&&w.relationship?w.relationship.role&&["owner","admin","moderator"].includes(w.relationship.role)?(0,r.Z)(l.sg,{label:x.formatMessage(Z.heading),backHref:"/group/".concat(w.slug)},void 0,(0,r.Z)(l.eW,{className:"space-y-4"},void 0,N&&n.createElement(n.Fragment,null,(0,r.Z)(l.Ol,{},void 0,(0,r.Z)(l.ll,{title:x.formatMessage(Z.editGroup)})),(0,r.Z)(d.Z,{},void 0,(0,r.Z)(d.H,{label:x.formatMessage(Z.editGroup),onClick:function(){return M.push("/group/".concat(w.slug,"/manage/edit"))}},void 0,(0,r.Z)("span",{dangerouslySetInnerHTML:{__html:w.display_name_html}})))),(0,r.Z)(l.Ol,{},void 0,(0,r.Z)(l.ll,{title:x.formatMessage(Z.members)})),(0,r.Z)(d.Z,{},void 0,h.software!==f.nF&&(0,r.Z)(d.H,{label:x.formatMessage(Z.pendingRequests),onClick:function(){return M.push("/group/".concat(w.slug,"/manage/requests"))}}),(0,r.Z)(d.H,{label:x.formatMessage(Z.blockedMembers),onClick:function(){return M.push("/group/".concat(w.slug,"/manage/blocks"))}})),N&&n.createElement(n.Fragment,null,(0,r.Z)(l.Ol,{},void 0,(0,r.Z)(l.ll,{title:x.formatMessage(Z.other)})),(0,r.Z)(d.Z,{},void 0,(0,r.Z)(d.H,{label:(0,r.Z)(l.xv,{theme:"danger"},void 0,x.formatMessage(Z.deleteGroup)),onClick:function(){return b((0,u.h7)("CONFIRM",{icon:a(103),heading:x.formatMessage(Z.deleteHeading),message:x.formatMessage(Z.deleteMessage),confirm:x.formatMessage(Z.deleteConfirm),onConfirm:function(){_.mutate(w.id,{onSuccess:function(){m.Z.success(x.formatMessage(Z.deleteSuccess)),M.push(y)}})}}))}}))))):(0,r.Z)(v.Z,{}):(0,r.Z)(l.sg,{label:x.formatMessage(Z.heading)},void 0,(0,r.Z)(l.$j,{}))}},479:function(e,t,a){"use strict";var r=a(1565),n=a(1),o=a(2141),i=a(433),s=a(2),u=a(669),c=a(1012),d=a(581),l=a(582),g=(0,n.forwardRef)((function(e,t){var a=e.group,g=e.width,p=void 0===g?"auto":g;return(0,r.Z)("div",{className:"relative flex shrink-0 flex-col space-y-2 px-1",style:{width:p},"data-testid":"group-grid-item"},a.id,(0,r.Z)(o.rU,{to:"/group/".concat(a.slug)},void 0,n.createElement(s.Kq,{className:"aspect-h-7 aspect-w-10 h-full w-full overflow-hidden rounded-lg",ref:t,style:{minHeight:180}},(0,r.Z)(c.Z,{group:a,className:"absolute inset-0 object-cover"}),(0,r.Z)("div",{className:"absolute inset-x-0 bottom-0 flex justify-center rounded-b-lg bg-gradient-to-t from-gray-900 to-transparent pb-8 pt-12 transition-opacity duration-500"}),(0,r.Z)(s.Kq,{justifyContent:"end",className:"p-4 text-white",space:3},void 0,(0,r.Z)(i.Z,{group:a,size:44}),(0,r.Z)(s.Kq,{space:1},void 0,(0,r.Z)(s.xv,{weight:"bold",dangerouslySetInnerHTML:{__html:a.display_name_html},theme:"inherit",truncate:!0}),(0,r.Z)(s.Ug,{alignItems:"center",space:1},void 0,(0,r.Z)(l.Z,{group:a}),(0,r.Z)("span",{},void 0,"•"),(0,r.Z)(d.Z,{group:a})))))),(0,r.Z)(u.Z,{group:a}))}));t.Z=g},480:function(e,t,a){"use strict";var r=a(1565),n=a(1),o=a(1578),i=a(2141),s=a(433),u=a(2),c=a(669),d=a(108);t.Z=function(e){var t=e.group,l=e.withJoinAction,g=void 0===l||l;return(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between","data-testid":"group-list-item"},void 0,(0,r.Z)(i.rU,{to:"/group/".concat(t.slug)},t.id,(0,r.Z)(u.Ug,{alignItems:"center",space:2},void 0,(0,r.Z)(s.Z,{group:t,size:44}),(0,r.Z)(u.Kq,{},void 0,(0,r.Z)(u.xv,{weight:"bold",dangerouslySetInnerHTML:{__html:t.display_name_html}}),(0,r.Z)(u.Ug,{className:"text-gray-700 dark:text-gray-600",space:1,alignItems:"center"},void 0,(0,r.Z)(u.JO,{className:"h-4.5 w-4.5",src:t.locked?a(205):a(472)}),(0,r.Z)(u.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,t.locked?(0,r.Z)(o.Z,{id:"group.privacy.locked",defaultMessage:"Private"}):(0,r.Z)(o.Z,{id:"group.privacy.public",defaultMessage:"Public"})),void 0!==t.members_count&&n.createElement(n.Fragment,null,(0,r.Z)("span",{},void 0,"•"),(0,r.Z)(u.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,(0,d.w8)(t.members_count)," ",(0,r.Z)(o.Z,{id:"groups.discover.search.results.member_count",defaultMessage:"{members, plural, one {member} other {members}}",values:{members:t.members_count}}))))))),g&&(0,r.Z)(c.Z,{group:t}))}},786:function(e,t,a){"use strict";a.d(t,{Z:function(){return s},p:function(){return r}});var r,n=a(1565),o=a(641),i=a(2);!function(e){e.LIST="LIST",e.GRID="GRID"}(r||(r={}));var s=function(e){var t=e.layout,s=e.onSelect;return(0,n.Z)(i.Ug,{alignItems:"center",space:1},void 0,(0,n.Z)("button",{"data-testid":"layout-list-action",onClick:function(){return s(r.LIST)}},void 0,(0,n.Z)(i.JO,{src:a(1421),className:(0,o.default)("h-5 w-5 text-gray-600",{"text-primary-600":t===r.LIST})})),(0,n.Z)("button",{"data-testid":"layout-grid-action",onClick:function(){return s(r.GRID)}},void 0,(0,n.Z)(i.JO,{src:a(1422),className:(0,o.default)("h-5 w-5 text-gray-600",{"text-primary-600":t===r.GRID})})))}},1420:function(e,t,a){"use strict";var r=a(1565),n=a(1578),o=a(2141),i=a(2);t.Z=function(e){var t=e.tag;return(0,r.Z)(o.rU,{to:"/groups/discover/tags/".concat(t.id),className:"group","data-testid":"tag-list-item"},void 0,(0,r.Z)(i.Kq,{},void 0,(0,r.Z)(i.xv,{weight:"bold",className:"group-hover:text-primary-600 group-hover:underline dark:group-hover:text-accent-blue"},void 0,"#",t.name),(0,r.Z)(i.xv,{size:"sm",theme:"muted",weight:"medium"},void 0,(0,r.Z)(n.Z,{id:"groups.discovery.tags.no_of_groups",defaultMessage:"Number of groups"}),":"," ",t.groups)))}},2174:function(e,t,a){"use strict";a.d(t,{l:function(){return r}});var r,n=a(1565),o=(a(4),a(1)),i=a(2127),s=a(2);!function(e){e.MY_GROUPS="MY_GROUPS",e.FIND_GROUPS="FIND_GROUPS"}(r||(r={})),t.Z=function(e){var t=e.activeTab,a=(0,i.k6)(),u=(0,o.useMemo)((function(){return[{text:"My Groups",action:function(){return a.push("/groups")},name:r.MY_GROUPS},{text:"Find Groups",action:function(){return a.push("/groups/discover")},name:r.FIND_GROUPS}]}),[]);return(0,n.Z)(s.mQ,{items:u,activeItem:t})}},1173:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var r=a(1565),n=a(2126),o=a(1),i=a(2132),s=a(1566),u=a(2),c=(a(5),a(109),a(1578)),d=a(70),l=a(599),g=a(2148),p=function(){var e=(0,g.lv)(12,20);return(0,r.Z)(u.Kq,{space:2,className:"animate-pulse"},void 0,(0,r.Z)(u.Kq,{className:"aspect-h-7 aspect-w-10 h-full w-full overflow-hidden rounded-lg"},void 0,(0,r.Z)("div",{className:"absolute inset-0 rounded-t-lg bg-gray-300 object-cover dark:bg-gray-800"}),(0,r.Z)(u.Kq,{justifyContent:"end",className:"z-10 p-4 text-gray-900 dark:text-gray-100",space:3},void 0,(0,r.Z)("div",{className:"h-11 w-11 rounded-full bg-gray-500 dark:bg-gray-700 dark:ring-primary-900"}),(0,r.Z)(u.Kq,{space:1,className:"text-gray-500 dark:text-gray-700"},void 0,(0,r.Z)(u.xv,{theme:"inherit",weight:"bold",truncate:!0},void 0,(0,g._4)(e)),(0,r.Z)(u.Ug,{space:3,wrap:!0},void 0,(0,r.Z)(u.xv,{tag:"span",theme:"inherit"},void 0,(0,g._4)(6)),(0,r.Z)(u.xv,{tag:"span",theme:"inherit"},void 0,(0,g._4)(6)))))),(0,r.Z)("div",{className:"h-10 w-full rounded-full bg-gray-300 dark:bg-gray-800"}))},m=a(479),f=function(){var e=(0,d.r2)(),t=e.groups,a=e.isFetching,i=e.isFetched,s=e.isError,g=i&&0===t.length||s,f=(0,o.useState)(null),v=(0,n.Z)(f,2),Z=v[0],h=v[1];return(0,r.Z)(u.Kq,{space:4,"data-testid":"popular-groups"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{size:"xl",weight:"bold"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.popular.title",defaultMessage:"Popular Groups"})),(0,r.Z)(l.Z,{to:"/groups/popular"},void 0,(0,r.Z)(u.xv,{tag:"span",weight:"medium",size:"sm",theme:"inherit"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.popular.show_more",defaultMessage:"Show More"})))),g?(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.popular.empty",defaultMessage:"Unable to fetch popular groups at this time. Please check back later."})):(0,r.Z)(u.lr,{itemWidth:250,itemCount:t.length,controlsHeight:null==Z?void 0:Z.clientHeight,isDisabled:a},void 0,(function(e){var n=e.width;return o.createElement(o.Fragment,null,a?new Array(4).fill(0).map((function(e,t){return(0,r.Z)("div",{className:"relative flex shrink-0 flex-col space-y-2 px-1",style:{width:n||"auto"}},t,(0,r.Z)(p,{}))})):t.map((function(e){return o.createElement(m.Z,{key:e.id,group:e,width:n,ref:h})})))})))},v=(a(15),a(1420)),Z=function(){var e=(0,d.Hz)(),t=e.tags,a=e.isFetched,n=e.isError,o=a&&0===t.length||n;return(0,r.Z)(u.Kq,{space:4,"data-testid":"popular-tags"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{size:"xl",weight:"bold"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.tags.title",defaultMessage:"Browse Topics"})),(0,r.Z)(l.Z,{to:"/groups/tags"},void 0,(0,r.Z)(u.xv,{tag:"span",weight:"medium",size:"sm",theme:"inherit"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.tags.show_more",defaultMessage:"Show More"})))),o?(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.tags.empty",defaultMessage:"Unable to fetch popular topics at this time. Please check back later."})):(0,r.Z)(u.Kq,{space:4},void 0,t.slice(0,10).map((function(e){return(0,r.Z)(v.Z,{tag:e},e.id)}))))},h=a(744),b=a(3),y=a(2125),M=(a(22),a(98),a(57),a(8),a(50),a(427)),x=function(e){var t=e.title,a=e.subtitle;return(0,r.Z)(u.Kq,{space:2,className:"px-4 py-2","data-testid":"no-results"},void 0,(0,r.Z)(u.xv,{weight:"bold",size:"lg"},void 0,t),(0,r.Z)(u.xv,{theme:"muted"},void 0,a))},w=a(2157),_=function(e){var t=e.onSelect,i=(0,b.Tr)(),s=(0,o.useState)(M.wy.get(null==i?void 0:i.id)||[]),d=(0,n.Z)(s,2),l=d[0],g=d[1];return(0,r.Z)(u.Kq,{space:2,"data-testid":"recent-searches"},void 0,l.length>0?o.createElement(o.Fragment,null,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between",className:"bg-white dark:bg-gray-900"},void 0,(0,r.Z)(u.xv,{theme:"muted",weight:"semibold",size:"sm"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.search.recent_searches.title",defaultMessage:"Recent searches"})),(0,r.Z)("button",{onClick:function(){var e;e=null==i?void 0:i.id,M.wy.remove(e),g([])},"data-testid":"clear-recent-searches"},void 0,(0,r.Z)(u.xv,{theme:"primary",size:"sm",className:"hover:underline"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.search.recent_searches.clear_all",defaultMessage:"Clear all"})))),(0,r.Z)(w.OO,{useWindowScroll:!0,data:l,itemContent:function(e,n){return(0,r.Z)("div",{"data-testid":"recent-search"},n,(0,r.Z)("button",{onClick:function(){return t(n)},className:"group flex w-full flex-col rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-800","data-testid":"recent-search-result"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",space:2},void 0,(0,r.Z)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200 p-2 dark:bg-gray-800 dark:group-hover:bg-gray-700/20"},void 0,(0,r.Z)(u.JO,{src:a(183),className:"h-5 w-5 text-gray-600"})),(0,r.Z)(u.xv,{weight:"bold",size:"sm",align:"left"},void 0,n))))}})):(0,r.Z)(u.Kq,{space:2,"data-testid":"recent-searches-blankslate"},void 0,(0,r.Z)(u.xv,{weight:"bold",size:"lg"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.search.recent_searches.blankslate.title",defaultMessage:"No recent searches"})),(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.search.recent_searches.blankslate.subtitle",defaultMessage:"Search group names, topics or keywords"}))))},N=a(1577),k=a(2131),C=a(641),I=a(480),O=a(786),S=["context"],T=o.forwardRef((function(e,t){e.context;var a=(0,k.Z)(e,S);return o.createElement("div",(0,N.Z)({ref:t},a,{className:"flex flex-wrap"}))})),P=function(e){var t=e.groupSearchResult,a=(0,o.useState)(O.p.LIST),i=(0,n.Z)(a,2),s=i[0],d=i[1],l=t.groups,g=t.hasNextPage,p=t.isFetching,f=t.fetchNextPage,v=function(){g&&!p&&f()},Z=(0,o.useCallback)((function(e,t){return(0,r.Z)("div",{className:(0,C.default)({"pt-4":0!==t})},void 0,(0,r.Z)(I.Z,{group:e,withJoinAction:!0}))}),[]),h=(0,o.useCallback)((function(e){return(0,r.Z)(m.Z,{group:e})}),[]);return(0,r.Z)(u.Kq,{space:4,"data-testid":"results"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{weight:"semibold"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.search.results.groups",defaultMessage:"Groups"})),(0,r.Z)(O.Z,{layout:s,onSelect:function(e){return d(e)}})),s===O.p.LIST?(0,r.Z)(w.OO,{useWindowScroll:!0,data:l,itemContent:function(e,t){return Z(t,e)},endReached:v}):(0,r.Z)(w.Mr,{useWindowScroll:!0,data:l,itemContent:function(e,t){return h(t)},components:{Item:function(e){return o.createElement("div",(0,N.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:T},endReached:v}))},R=function(e){var t=e.onSelect,a=e.searchValue,n=(0,b.Tr)(),i=b.Nr,s=i(a,300),l=i(a,1e3),g=(0,d.pu)(s),p=g.groups,m=g.isLoading,f=g.isFetched,v=g.isError,Z=f&&p.length>0,w=f&&0===p.length;return(0,o.useEffect)((function(){l&&l.length>=0&&function(e,t){var a=[];if(M.wy.get(e)&&(a=M.wy.get(e)),-1===a.indexOf(t))return a.unshift(t),a.length>10&&a.pop(),M.wy.set(e,a),a;var r=a.indexOf(t),n=(0,y.Z)(a);n.splice.apply(n,[0,0].concat((0,y.Z)(n.splice(r,1)))),localStorage.setItem("soapbox:recent-group-searches",JSON.stringify(n))}(null==n?void 0:n.id,l)}),[l]),m?(0,r.Z)(u.Kq,{space:4},void 0,(0,r.Z)(h.Z,{}),(0,r.Z)(h.Z,{}),(0,r.Z)(h.Z,{})):v?(0,r.Z)(x,{title:(0,r.Z)(c.Z,{id:"groups.discover.search.error.title",defaultMessage:"An error occurred"}),subtitle:(0,r.Z)(c.Z,{id:"groups.discover.search.error.subtitle",defaultMessage:"Please try again later."})}):w?(0,r.Z)(x,{title:(0,r.Z)(c.Z,{id:"groups.discover.search.no_results.title",defaultMessage:"No matches found"}),subtitle:(0,r.Z)(c.Z,{id:"groups.discover.search.no_results.subtitle",defaultMessage:"Try searching for another group."})}):Z?(0,r.Z)(P,{groupSearchResult:g}):(0,r.Z)(_,{onSelect:t})},E=function(){var e=(0,d.sp)(),t=e.groups,a=e.isFetching,i=e.isFetched,s=e.isError,g=i&&0===t.length||s,f=(0,o.useState)(null),v=(0,n.Z)(f,2),Z=v[0],h=v[1];return(0,r.Z)(u.Kq,{space:4,"data-testid":"suggested-groups"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{size:"xl",weight:"bold"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.suggested.title",defaultMessage:"Suggested For You"})),(0,r.Z)(l.Z,{to:"/groups/suggested"},void 0,(0,r.Z)(u.xv,{tag:"span",weight:"medium",size:"sm",theme:"inherit"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.suggested.show_more",defaultMessage:"Show More"})))),g?(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(c.Z,{id:"groups.discover.suggested.empty",defaultMessage:"Unable to fetch suggested groups at this time. Please check back later."})):(0,r.Z)(u.lr,{itemWidth:250,itemCount:t.length,controlsHeight:null==Z?void 0:Z.clientHeight,isDisabled:a},void 0,(function(e){var n=e.width;return o.createElement(o.Fragment,null,a?new Array(20).fill(0).map((function(e,t){return(0,r.Z)("div",{className:"relative flex shrink-0 flex-col space-y-2 px-0.5",style:{width:n||"auto"}},t,(0,r.Z)(p,{}))})):t.map((function(e){return o.createElement(m.Z,{key:e.id,group:e,width:n,ref:h})})))})))},U=a(2174),j=(0,i.vU)({placeholder:{id:"groups.discover.search.placeholder",defaultMessage:"Search"}}),G=function(){var e=(0,s.Z)(),t=(0,o.useState)(!1),i=(0,n.Z)(t,2),c=i[0],d=i[1],l=(0,o.useState)(""),g=(0,n.Z)(l,2),p=g[0],m=g[1],v=p&&p.length>0,h=function(){return m("")};return(0,r.Z)(u.Kq,{space:4},void 0,(0,r.Z)(U.Z,{activeTab:U.l.FIND_GROUPS}),(0,r.Z)(u.Kq,{space:6},void 0,(0,r.Z)(u.Ug,{alignItems:"center"},void 0,c?(0,r.Z)(u.hU,{src:a(201),iconClassName:"mr-2 h-5 w-5 fill-current text-gray-600",onClick:function(){h(),d(!1)},"data-testid":"group-search-icon"}):null,(0,r.Z)(u.II,{"data-testid":"search",type:"text",placeholder:e.formatMessage(j.placeholder),value:p,onChange:function(e){return m(e.target.value)},onFocus:function(){return d(!0)},outerClassName:"mt-0 w-full",theme:"search",append:(0,r.Z)("button",{onClick:h},void 0,(0,r.Z)(u.JO,{src:a(v?83:183),className:"h-4 w-4 text-gray-700 dark:text-gray-600","aria-hidden":"true"}))})),c?(0,r.Z)(R,{searchValue:p,onSelect:function(e){return m(e)}}):o.createElement(o.Fragment,null,(0,r.Z)(f,{}),(0,r.Z)(E,{}),(0,r.Z)(Z,{}))))}},1172:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(1565),n=a(2126),o=(a(5),a(1)),i=a(2132),s=a(1566),u=a(1578),c=a(2141),d=a(1575),l=a(70),g=a(782),p=a(52),m=a(2),f=a(3),v=a(2175),Z=a(1542),h=a(1419),b=a(593),y=function(){var e=(0,f.hz)(),t=(0,b.K6)(),a=t.groups,n=t.isFetching;return!e.groupsPending||n||0===a.length?null:o.createElement(o.Fragment,null,(0,r.Z)(h.z,{to:"/groups/pending-requests",count:a.length,size:"lg"}),(0,r.Z)(m.iz,{}))},M=a(2174),x=(0,i.vU)({placeholder:{id:"groups.search.placeholder",defaultMessage:"Search My Groups"}}),w=function(){var e=f.Nr,t=(0,f.TL)(),i=(0,f.hz)(),h=(0,s.Z)(),b=(0,f.CG)((function(e){return(0,v.Fs)(e,v.RZ)})),w=(0,o.useState)(""),_=(0,n.Z)(w,2),N=_[0],k=_[1],C=e(N,300),I=(0,l.XY)(C),O=I.groups,S=I.isLoading,T=I.hasNextPage,P=I.fetchNextPage,R=function(){return t((0,d.h7)("CREATE_GROUP"))};return(0,r.Z)(m.Kq,{space:4},void 0,i.groupsDiscovery&&(0,r.Z)(M.Z,{activeTab:M.l.MY_GROUPS}),b&&(0,r.Z)(m.zx,{className:"xl:hidden",icon:a(499),onClick:R,theme:"secondary",block:!0},void 0,(0,r.Z)(u.Z,{id:"new_group_panel.action",defaultMessage:"Create Group"})),i.groupsSearch?(0,r.Z)(m.II,{onChange:function(e){return k(e.target.value)},placeholder:h.formatMessage(x.placeholder),theme:"search",value:N}):null,(0,r.Z)(y,{}),(0,r.Z)(p.Z,{scrollKey:"groups",emptyMessage:(0,r.Z)(m.Kq,{space:4,alignItems:"center",justifyContent:"center",className:"py-6"},void 0,(0,r.Z)(m.Kq,{space:2,className:"max-w-sm"},void 0,(0,r.Z)(m.xv,{size:"2xl",weight:"bold",tag:"h2",align:"center"},void 0,(0,r.Z)(u.Z,{id:"groups.empty.title",defaultMessage:"No Groups yet"})),(0,r.Z)(m.xv,{size:"sm",theme:"muted",align:"center"},void 0,(0,r.Z)(u.Z,{id:"groups.empty.subtitle",defaultMessage:"Start discovering groups to join or create your own."}))),b&&(0,r.Z)(m.zx,{className:"self-center",onClick:R,theme:"secondary"},void 0,(0,r.Z)(u.Z,{id:"new_group_panel.action",defaultMessage:"Create Group"}))),emptyMessageCard:!1,itemClassName:"pb-4 last:pb-0",isLoading:S,showLoading:S&&0===O.length,placeholderComponent:Z.Z,placeholderCount:3,onLoadMore:function(){T&&P()},hasMore:T},void 0,O.map((function(e){return(0,r.Z)(c.rU,{to:"/group/".concat(e.slug)},e.id,(0,r.Z)(g.Z,{group:e}))}))))}},1618:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=(a(5),a(2132)),o=a(1566),i=a(1578),s=a(2141),u=a(782),c=a(52),d=a(2),l=a(593),g=a(1542),p=(0,n.vU)({label:{id:"groups.pending.label",defaultMessage:"Pending Requests"}});t.default=function(){var e=(0,o.Z)(),t=(0,l.K6)(),a=t.groups,n=t.isLoading;return(0,r.Z)(d.sg,{label:e.formatMessage(p.label)},void 0,(0,r.Z)(c.Z,{emptyMessage:(0,r.Z)(d.Kq,{space:4,alignItems:"center",justifyContent:"center",className:"py-6","data-testid":"pending-requests-blankslate"},void 0,(0,r.Z)(d.Kq,{space:2,className:"max-w-sm"},void 0,(0,r.Z)(d.xv,{size:"2xl",weight:"bold",tag:"h2",align:"center"},void 0,(0,r.Z)(i.Z,{id:"groups.pending.empty.title",defaultMessage:"No pending requests"})),(0,r.Z)(d.xv,{size:"sm",theme:"muted",align:"center"},void 0,(0,r.Z)(i.Z,{id:"groups.pending.empty.subtitle",defaultMessage:"You have no pending requests at this time."})))),emptyMessageCard:!1,isLoading:n,itemClassName:"pb-4 last:pb-0",placeholderComponent:g.Z,placeholderCount:3,scrollKey:"pending-group-requests",showLoading:n&&0===a.length},void 0,a.map((function(e){return(0,r.Z)(s.rU,{to:"/group/".concat(e.slug)},e.id,(0,r.Z)(u.Z,{group:e}))}))))}},1614:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=a(2126),o=a(1577),i=a(2131),s=a(641),u=a(1),c=a(2132),d=a(1566),l=a(2157),g=a(70),p=a(2),m=a(479),f=a(480),v=a(786),Z=["context"],h=(0,c.vU)({label:{id:"groups.popular.label",defaultMessage:"Popular Groups"}}),b=u.forwardRef((function(e,t){e.context;var a=(0,i.Z)(e,Z);return u.createElement("div",(0,o.Z)({ref:t},a,{className:"flex flex-wrap"}))}));t.default=function(){var e=(0,d.Z)(),t=(0,u.useState)(v.p.LIST),a=(0,n.Z)(t,2),i=a[0],c=a[1],Z=(0,g.r2)(),y=Z.groups,M=Z.hasNextPage,x=Z.fetchNextPage,w=function(){M&&x()},_=(0,u.useCallback)((function(e,t){return(0,r.Z)("div",{className:(0,s.default)({"pt-4":0!==t})},void 0,(0,r.Z)(f.Z,{group:e,withJoinAction:!0}))}),[]),N=(0,u.useCallback)((function(e){return(0,r.Z)(m.Z,{group:e})}),[]);return(0,r.Z)(p.sg,{label:e.formatMessage(h.label),action:(0,r.Z)(v.Z,{layout:i,onSelect:function(e){return c(e)}})},void 0,i===v.p.LIST?(0,r.Z)(l.OO,{useWindowScroll:!0,data:y,itemContent:function(e,t){return _(t,e)},endReached:w}):(0,r.Z)(l.Mr,{useWindowScroll:!0,data:y,itemContent:function(e,t){return N(t)},components:{Item:function(e){return u.createElement("div",(0,o.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:b},endReached:w}))}},1615:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=a(2126),o=a(1577),i=a(2131),s=a(641),u=a(1),c=a(2132),d=a(1566),l=a(2157),g=a(70),p=a(2),m=a(479),f=a(480),v=a(786),Z=["context"],h=(0,c.vU)({label:{id:"groups.popular.label",defaultMessage:"Suggested Groups"}}),b=u.forwardRef((function(e,t){e.context;var a=(0,i.Z)(e,Z);return u.createElement("div",(0,o.Z)({ref:t},a,{className:"flex flex-wrap"}))}));t.default=function(){var e=(0,d.Z)(),t=(0,u.useState)(v.p.LIST),a=(0,n.Z)(t,2),i=a[0],c=a[1],Z=(0,g.sp)(),y=Z.groups,M=Z.hasNextPage,x=Z.fetchNextPage,w=function(){M&&x()},_=(0,u.useCallback)((function(e,t){return(0,r.Z)("div",{className:(0,s.default)({"pt-4":0!==t})},void 0,(0,r.Z)(f.Z,{group:e,withJoinAction:!0}))}),[]),N=(0,u.useCallback)((function(e){return(0,r.Z)(m.Z,{group:e})}),[]);return(0,r.Z)(p.sg,{label:e.formatMessage(h.label),action:(0,r.Z)(v.Z,{layout:i,onSelect:function(e){return c(e)}})},void 0,i===v.p.LIST?(0,r.Z)(l.OO,{useWindowScroll:!0,data:y,itemContent:function(e,t){return _(t,e)},endReached:w}):(0,r.Z)(l.Mr,{useWindowScroll:!0,data:y,itemContent:function(e,t){return N(t)},components:{Item:function(e){return u.createElement("div",(0,o.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:b},endReached:w}))}},1616:function(e,t,a){"use strict";a.r(t);var r,n=a(1565),o=a(2126),i=a(1577),s=a(2131),u=a(641),c=a(1),d=a(2157),l=a(70),g=a(2),p=a(479),m=a(480),f=["context"];!function(e){e.LIST="LIST",e.GRID="GRID"}(r||(r={}));var v=c.forwardRef((function(e,t){e.context;var a=(0,s.Z)(e,f);return c.createElement("div",(0,i.Z)({ref:t},a,{className:"flex flex-wrap"}))}));t.default=function(e){var t=e.params.id,s=(0,c.useState)(r.LIST),f=(0,o.Z)(s,2),Z=f[0],h=f[1],b=(0,l.JR)(t),y=b.tag,M=b.isLoading,x=(0,l.We)(t),w=x.groups,_=x.hasNextPage,N=x.fetchNextPage,k=function(){_&&N()},C=(0,c.useCallback)((function(e,t){return(0,n.Z)("div",{className:(0,u.default)({"pt-4":0!==t})},void 0,(0,n.Z)(m.Z,{group:e,withJoinAction:!0}))}),[]),I=(0,c.useCallback)((function(e){return(0,n.Z)(p.Z,{group:e})}),[]);return M||!y?null:(0,n.Z)(g.sg,{label:"#".concat(y.name),action:(0,n.Z)(g.Ug,{alignItems:"center"},void 0,(0,n.Z)("button",{onClick:function(){return h(r.LIST)}},void 0,(0,n.Z)(g.JO,{src:a(1421),className:(0,u.default)("h-5 w-5 text-gray-600",{"text-primary-600":Z===r.LIST})})),(0,n.Z)("button",{onClick:function(){return h(r.GRID)}},void 0,(0,n.Z)(g.JO,{src:a(1422),className:(0,u.default)("h-5 w-5 text-gray-600",{"text-primary-600":Z===r.GRID})})))},void 0,Z===r.LIST?(0,n.Z)(d.OO,{useWindowScroll:!0,data:w,itemContent:function(e,t){return C(t,e)},endReached:k}):(0,n.Z)(d.Mr,{useWindowScroll:!0,data:w,itemContent:function(e,t){return I(t)},components:{Item:function(e){return c.createElement("div",(0,i.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:v},endReached:k}))}},1617:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=a(641),o=a(2132),i=a(1566),s=a(1578),u=a(2157),c=a(70),d=a(2),l=a(1420),g=(0,o.vU)({title:{id:"groups.tags.title",defaultMessage:"Browse Topics"}});t.default=function(){var e=(0,i.Z)(),t=(0,c.Hz)(),a=t.tags,o=t.isFetched,p=t.isError,m=t.hasNextPage,f=t.fetchNextPage,v=o&&0===a.length||p;return(0,r.Z)(d.sg,{label:e.formatMessage(g.title)},void 0,v?(0,r.Z)(d.xv,{theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"groups.discover.tags.empty",defaultMessage:"Unable to fetch popular topics at this time. Please check back later."})):(0,r.Z)(u.OO,{useWindowScroll:!0,data:a,itemContent:function(e,t){return(0,r.Z)("div",{className:(0,n.default)({"pt-4":0!==e})},void 0,(0,r.Z)(l.Z,{tag:t},t.id))},endReached:function(){m&&f()}}))}},1542:function(e,t,a){"use strict";var r=a(1565),n=a(2),o=a(2148);t.Z=function(){var e=(0,o.lv)(12,20);return(0,r.Z)("div",{className:"animate-pulse"},void 0,(0,r.Z)(n.Kq,{className:"relative h-[240px] rounded-lg border border-solid border-gray-300 bg-white dark:border-primary-800 dark:bg-primary-900"},void 0,(0,r.Z)("div",{className:"relative grow basis-1/2 rounded-t-lg bg-gray-300 dark:bg-gray-800"}),(0,r.Z)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},void 0,(0,r.Z)("div",{className:"h-16 w-16 rounded-full bg-gray-500 ring-2 ring-white dark:bg-primary-800 dark:ring-primary-900"})),(0,r.Z)(n.Kq,{alignItems:"center",justifyContent:"end",grow:!0,className:"basis-1/2 py-4",space:.5},void 0,(0,r.Z)(n.xv,{size:"lg",theme:"subtle",weight:"bold"},void 0,(0,o._4)(e)),(0,r.Z)(n.Ug,{className:"text-gray-400 dark:text-gray-600",space:3,wrap:!0},void 0,(0,r.Z)("span",{},void 0,(0,o._4)(6)),(0,r.Z)("span",{},void 0,(0,o._4)(6))))))}},744:function(e,t,a){"use strict";var r=a(1565),n=a(2),o=a(2148);t.Z=function(){var e=(0,o.lv)(12,20);return(0,r.Z)(n.Ug,{alignItems:"center",justifyContent:"between",className:"animate-pulse"},void 0,(0,r.Z)(n.Ug,{alignItems:"center",space:2},void 0,(0,r.Z)("div",{className:"h-11 w-11 rounded-full bg-gray-500 dark:bg-gray-700 dark:ring-primary-900"}),(0,r.Z)(n.Kq,{className:"text-gray-500 dark:text-gray-700"},void 0,(0,r.Z)(n.xv,{theme:"inherit",weight:"bold"},void 0,(0,o._4)(e)),(0,r.Z)(n.Ug,{space:1,alignItems:"center"},void 0,(0,r.Z)(n.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,(0,o._4)(6)),(0,r.Z)("span",{},void 0,"•"),(0,r.Z)(n.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,(0,o._4)(6))))),(0,r.Z)("div",{className:"h-10 w-36 rounded-full bg-gray-300 dark:bg-gray-800"}))}},1629:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=a(2126),o=(a(93),a(15),a(5),a(8),a(831)),i=a(1),s=a(1578),u=a(1575),c=a(84),d=a(2),l=a(3),g=a(42),p=a(612);t.default=function(e){var t,a,m=e.group,f=(0,l.TL)(),v=(0,i.useState)(!0),Z=(0,n.Z)(v,2),h=Z[0],b=Z[1],y=!(null==m||null===(t=m.relationship)||void 0===t||!t.member),M=null==m?void 0:m.locked,x=(0,l.CG)((function(e){return m?(0,g.yE)(e,null==m?void 0:m.id):(0,o.List)()})),w=function(e){if("video"===e.type)f((0,u.h7)("VIDEO",{media:e,status:e.status}));else{var t=e.getIn(["status","media_attachments"]),a=t.findIndex((function(t){return t.id===e.id}));f((0,u.h7)("MEDIA",{media:t,index:a,status:e.status,account:e.account}))}};return(0,i.useEffect)((function(){b(!0),!m||m.deleted_at||!y&&M||f((0,c.gY)(m.id)).then((function(){return b(!1)})).catch((function(){}))}),[null==m?void 0:m.id,y,M]),M&&!y||null!=m&&m.deleted_at?null:(0,r.Z)(d.$L,{title:(0,r.Z)(s.Z,{id:"media_panel.title",defaultMessage:"Media"})},void 0,m&&(0,r.Z)("div",{className:"w-full"},void 0,h?(0,r.Z)(d.$j,{}):(a=x.slice(0,9)).isEmpty()?(0,r.Z)(d.xv,{size:"sm",theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"media_panel.empty_message",defaultMessage:"No media found."})):(0,r.Z)("div",{className:"grid grid-cols-3 gap-1"},void 0,a.map((function(e,t){return(0,r.Z)(p.Z,{attachment:e,onOpenMedia:w},"".concat(e.getIn(["status","id"]),"+").concat(e.id))})))))}},1175:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var r=a(1565),n=a(2126),o=a(1574),i=a(1),s=a(2132),u=a(1566),c=a(1578),d=a(70),l=a(2),g=a(3),p=a(34),m=a(2150),f=(0,s.vU)({copied:{id:"copy.success",defaultMessage:"Copied to clipboard!"}}),v=function(e){var t=e.number;return(0,r.Z)("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-gray-200 dark:border-gray-800"},void 0,(0,r.Z)(l.xv,{theme:"primary",size:"sm",weight:"bold"},void 0,t))},Z=function(e){var t=e.number,a=e.children;return(0,r.Z)(l.Ug,{alignItems:"top",space:3},void 0,(0,r.Z)(v,{number:t}),(0,r.Z)("div",{className:"mt-0.5"},void 0,a))},h=function(e){var t=e.group,n=(0,u.Z)();return t?(0,r.Z)(l.Kq,{space:9},void 0,(0,r.Z)(l.Kq,{space:3},void 0,(0,r.Z)(l.Kq,{},void 0,(0,r.Z)("label",{className:"dark:sm:shadow-inset relative h-24 w-full cursor-pointer overflow-hidden rounded-lg bg-primary-100 text-primary-500 dark:bg-gray-800 dark:text-accent-blue sm:h-36 sm:shadow"},void 0,t.header&&(0,r.Z)("img",{className:"h-full w-full object-cover",src:t.header,alt:""})),(0,r.Z)("label",{className:"mx-auto -mt-10 cursor-pointer rounded-full bg-primary-500 ring-2 ring-white dark:ring-primary-900"},void 0,t.avatar&&(0,r.Z)(l.qE,{src:t.avatar,size:80}))),(0,r.Z)(l.Kq,{},void 0,(0,r.Z)(l.xv,{size:"2xl",weight:"bold",align:"center"},void 0,t.display_name),(0,r.Z)(l.xv,{size:"md",className:"mx-auto max-w-sm",dangerouslySetInnerHTML:{__html:t.note_emojified}}))),(0,r.Z)(l.iz,{}),(0,r.Z)(l.Kq,{space:4},void 0,(0,r.Z)(l.xv,{size:"3xl",weight:"bold",align:"center"},void 0,(0,r.Z)(c.Z,{id:"manage_group.confirmation.title",defaultMessage:"You’re all set!"})),(0,r.Z)(l.Kq,{space:5},void 0,(0,r.Z)(Z,{number:1},void 0,(0,r.Z)(l.xv,{theme:"muted"},void 0,(0,r.Z)(c.Z,{id:"manage_group.confirmation.info_1",defaultMessage:"As the owner of this group, you can assign staff, delete posts and much more."}))),(0,r.Z)(Z,{number:2},void 0,(0,r.Z)(l.xv,{theme:"muted"},void 0,(0,r.Z)(c.Z,{id:"manage_group.confirmation.info_2",defaultMessage:"Post the group's first post and get the conversation started."}))),(0,r.Z)(Z,{number:3},void 0,(0,r.Z)(l.xv,{theme:"muted"},void 0,(0,r.Z)(c.Z,{id:"manage_group.confirmation.info_3",defaultMessage:"Share your new group with friends, family and followers to grow its membership."}))))),(0,r.Z)(l.Ug,{space:2,justifyContent:"center"},void 0,"share"in navigator&&(0,r.Z)(l.zx,{onClick:function(){navigator.share({text:null==t?void 0:t.display_name,url:null==t?void 0:t.uri}).catch((function(e){"AbortError"!==e.name&&console.error(e)}))},theme:"transparent",icon:a(896),className:"text-primary-600"},void 0,(0,r.Z)(c.Z,{id:"manage_group.confirmation.share",defaultMessage:"Share this group"})),(0,r.Z)(l.zx,{onClick:function(){(0,m.Z)(null==t?void 0:t.url,(function(){p.Z.success(n.formatMessage(f.copied))}))},theme:"transparent",icon:a(496),className:"text-primary-600"},void 0,(0,r.Z)(c.Z,{id:"manage_group.confirmation.copy",defaultMessage:"Copy link"})))):null},b=(a(11),a(12),a(18),a(4),a(7),a(20),a(21),a(10),a(2125)),y=a(1557),M=a(1547),x=(a(40),a(0),a(24),a(9),a(74),a(8),a(57),a(44),a(1424)),w=a(1425),_=a(1426),N=a(1032),k=a(317);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,M.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=(0,s.vU)({groupNamePlaceholder:{id:"manage_group.fields.name_placeholder",defaultMessage:"Group Name"},groupDescriptionPlaceholder:{id:"manage_group.fields.description_placeholder",defaultMessage:"Description"},hashtagPlaceholder:{id:"manage_group.fields.hashtag_placeholder",defaultMessage:"Add a topic"}}),S=function(e){var t,a=e.params,n=e.onChange,o=(0,u.Z)(),i=g.Nr,s=(0,g.fz)(),p=a.display_name,m=void 0===p?"":p,f=a.note,v=void 0===f?"":f,Z=a.tags,h=void 0===Z?[""]:Z,C=i(m,300),S=(0,d.BN)(C).data,T=S.isValid,P=S.message,R=(0,N.uL)(a.avatar),E=(0,N.uL)(a.header),U=null===(t=(0,g.CG)((function(e){return e.instance.configuration.getIn(["media_attachments","supported_mime_types"])})))||void 0===t?void 0:t.filter((function(e){return e.startsWith("image/")})).toArray().join(","),j=function(e){return function(t){n(I(I({},a),{},(0,M.Z)({},e,t.target.value)))}},G=function(e,t){return function(){var r=(0,y.Z)(regeneratorRuntime.mark((function r(o){var i,s,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=o.target.files,!(s=i?i[0]:void 0)){r.next=7;break}return r.next=5,(0,k.Z)(s,t);case 5:u=r.sent,n(I(I({},a),{},(0,M.Z)({},e,u)));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};return(0,r.Z)(l.l0,{},void 0,(0,r.Z)("div",{className:"relative mb-12 flex"},void 0,(0,r.Z)(w.Z,{src:E,accept:U,onChange:G("header",2073600)}),(0,r.Z)(x.Z,{src:R,accept:U,onChange:G("avatar",16e4)})),(0,r.Z)(l.cw,{labelText:(0,r.Z)(c.Z,{id:"manage_group.fields.name_label",defaultMessage:"Group name (required)"}),hintText:(0,r.Z)(c.Z,{id:"manage_group.fields.name_help",defaultMessage:"This cannot be changed after the group is created."}),errors:T?[]:[P]},void 0,(0,r.Z)(l.II,{type:"text",placeholder:o.formatMessage(O.groupNamePlaceholder),value:m,onChange:j("display_name"),maxLength:Number(s.configuration.getIn(["groups","max_characters_name"]))})),(0,r.Z)(l.cw,{labelText:(0,r.Z)(c.Z,{id:"manage_group.fields.description_label",defaultMessage:"Description"})},void 0,(0,r.Z)(l.gx,{autoComplete:"off",placeholder:o.formatMessage(O.groupDescriptionPlaceholder),value:v,onChange:j("note"),maxLength:Number(s.configuration.getIn(["groups","max_characters_description"]))})),(0,r.Z)("div",{className:"pb-6"},void 0,(0,r.Z)(_.Z,{tags:h,onChange:function(e){n(I(I({},a),{},{tags:e}))},onAddItem:function(){n(I(I({},a),{},{tags:[].concat((0,b.Z)(h),[""])}))},onRemoveItem:function(e){var t=(0,b.Z)(h);t.splice(e,1),n(I(I({},a),{},{tags:t}))}})))},T=a(100);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,M.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E,U=function(e){var t=e.params,a=e.onChange,n=t.group_visibility||"everyone",o=function(e){a(R(R({},t),{},{group_visibility:e}))};return i.createElement(i.Fragment,null,(0,r.Z)(l.Kq,{className:"mx-auto max-w-xs py-10",space:2},void 0,(0,r.Z)(l.xv,{size:"3xl",weight:"bold",align:"center"},void 0,(0,r.Z)(c.Z,{id:"manage_group.get_started",defaultMessage:"Let’s get started!"})),(0,r.Z)(l.xv,{theme:"muted",align:"center"},void 0,(0,r.Z)(c.Z,{id:"manage_group.tagline",defaultMessage:"Groups connect you with others based on shared interests."}))),(0,r.Z)(l.l0,{},void 0,(0,r.Z)(l.cw,{labelText:(0,r.Z)(c.Z,{id:"manage_group.privacy.label",defaultMessage:"Privacy settings"})},void 0,(0,r.Z)(T.Z,{},void 0,(0,r.Z)(T.H,{label:(0,r.Z)(l.xv,{weight:"medium"},void 0,(0,r.Z)(c.Z,{id:"manage_group.privacy.public.label",defaultMessage:"Public"})),hint:(0,r.Z)(c.Z,{id:"manage_group.privacy.public.hint",defaultMessage:"Discoverable. Anyone can join."}),onSelect:function(){return o("everyone")},isSelected:"everyone"===n}),(0,r.Z)(T.H,{label:(0,r.Z)(l.xv,{weight:"medium"},void 0,(0,r.Z)(c.Z,{id:"manage_group.privacy.private.label",defaultMessage:"Private (Owner approval required)"})),hint:(0,r.Z)(c.Z,{id:"manage_group.privacy.private.hint",defaultMessage:"Discoverable. Users can join after their request is approved."}),onSelect:function(){return o("members_only")},isSelected:"members_only"===n}))),(0,r.Z)(l.xv,{size:"sm",theme:"muted",align:"center"},void 0,(0,r.Z)(c.Z,{id:"manage_group.privacy.hint",defaultMessage:"These settings cannot be changed later."}))))},j=(0,s.vU)({next:{id:"manage_group.next",defaultMessage:"Next"},create:{id:"manage_group.create",defaultMessage:"Create Group"},done:{id:"manage_group.done",defaultMessage:"Done"}});!function(e){e.ONE="ONE",e.TWO="TWO",e.THREE="THREE"}(E||(E={}));var G=function(e){var t=e.onClose,a=(0,u.Z)(),s=g.Nr,m=(0,i.useState)(null),f=(0,n.Z)(m,2),v=f[0],Z=f[1],b=(0,i.useState)({group_visibility:"everyone"}),y=(0,n.Z)(b,2),M=y[0],x=y[1],w=(0,i.useState)(E.ONE),_=(0,n.Z)(w,2),N=_[0],k=_[1],C=(0,d.lt)(),I=C.createGroup,O=C.isSubmitting,T=s(M.display_name||"",300),P=(0,d.BN)(T).data.isValid,R=function(){t("MANAGE_GROUP")},G=(0,i.useMemo)((function(){switch(N){case E.THREE:return a.formatMessage(j.done);case E.TWO:return a.formatMessage(j.create);default:return a.formatMessage(j.next)}}),[N]);return(0,r.Z)(l.u_,{title:N===E.ONE?(0,r.Z)(c.Z,{id:"navigation_bar.create_group",defaultMessage:"Create Group"}):"everyone"===M.group_visibility?(0,r.Z)(c.Z,{id:"navigation_bar.create_group.public",defaultMessage:"Create Public Group"}):(0,r.Z)(c.Z,{id:"navigation_bar.create_group.private",defaultMessage:"Create Private Group"}),confirmationAction:function(){switch(N){case E.ONE:k(E.TWO);break;case E.TWO:I(M,{onSuccess:function(e){k(E.THREE),Z(e)},onError:function(e){if(e instanceof o.d7){var t,a=null===(t=e.response)||void 0===t?void 0:t.data.error;"string"==typeof a&&p.Z.error(a)}}});break;case E.THREE:R()}},confirmationText:G,confirmationDisabled:O||N===E.TWO&&!P,confirmationFullWidth:!0,onClose:R},void 0,(0,r.Z)(l.Kq,{space:2},void 0,function(){switch(N){case E.ONE:return(0,r.Z)(U,{params:M,onChange:x});case E.TWO:return(0,r.Z)(S,{params:M,onChange:x});case E.THREE:return(0,r.Z)(h,{group:v})}}()))}},1627:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=(a(5),a(109),a(15),a(70)),o=a(2),i=a(480),s=a(744);t.default=function(){var e=(0,n.XY)(),t=e.groups,a=e.isFetching,u=e.isFetched,c=e.isError;return u&&0===t.length||c?null:(0,r.Z)(o.$L,{title:"My Groups"},void 0,a?new Array(3).fill(0).map((function(e,t){return(0,r.Z)(s.Z,{},t)})):t.slice(0,3).map((function(e){return(0,r.Z)(i.Z,{group:e,withJoinAction:!1},e.id)})))}},1626:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=a(1578),o=a(1575),i=a(2),s=a(3),u=a(2175);t.default=function(){var e=(0,s.TL)();return(0,s.CG)((function(e){return(0,u.Fs)(e,u.RZ)}))?(0,r.Z)(i.Kq,{space:2},void 0,(0,r.Z)(i.Kq,{},void 0,(0,r.Z)(i.xv,{size:"lg",weight:"bold"},void 0,(0,r.Z)(n.Z,{id:"new_group_panel.title",defaultMessage:"Create Group"})),(0,r.Z)(i.xv,{theme:"muted",size:"sm"},void 0,(0,r.Z)(n.Z,{id:"new_group_panel.subtitle",defaultMessage:"Can't find what you're looking for? Start your own private or public group."}))),(0,r.Z)(i.zx,{onClick:function(){e((0,o.h7)("CREATE_GROUP"))},theme:"secondary",block:!0},void 0,(0,r.Z)(n.Z,{id:"new_group_panel.action",defaultMessage:"Create Group"}))):null}},1628:function(e,t,a){"use strict";a.r(t);var r=a(1565),n=(a(5),a(109),a(15),a(70)),o=a(2),i=a(480),s=a(744);t.default=function(){var e=(0,n.sp)(),t=e.groups,a=e.isFetching,u=e.isFetched,c=e.isError;return u&&0===t.length||c?null:(0,r.Z)(o.$L,{title:"Suggested Groups"},void 0,a?new Array(3).fill(0).map((function(e,t){return(0,r.Z)(s.Z,{},t)})):t.slice(0,3).map((function(e){return(0,r.Z)(i.Z,{group:e,withJoinAction:!1},e.id)})))}},1032:function(e,t,a){"use strict";a.d(t,{XB:function(){return u},uL:function(){return s},hR:function(){return c}});var r=a(1557),n=a(2126),o=(a(40),a(1)),i=a(317);function s(e){return(0,o.useMemo)((function(){if(e)return URL.createObjectURL(e)}),[e])}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useState)(),a=(0,n.Z)(t,2),u=a[0],c=a[1],d=s(u)||e.preview,l=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.files,n=null==r?void 0:r.item(0)){t.next=4;break}return t.abrupt("return");case 4:if("number"!=typeof e.maxPixels){t.next=12;break}return t.t0=c,t.next=8,(0,i.Z)(n,e.maxPixels);case 8:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 12:c(n);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{src:d,file:u,onChange:l}}function c(e){var t=(0,o.useState)(e),a=(0,n.Z)(t,2),r=a[0],i=a[1],s="string"==typeof e;return(0,o.useEffect)((function(){s&&i(e)}),[s]),{value:r||"",onChange:function(e){i(e.target.value)}}}a(14),a(0),a(17),a(16),a(91),a(64)},2175:function(e,t,a){"use strict";a.d(t,{Fs:function(){return n},RZ:function(){return r}});var r=1048576,n=function(e,t){var a=e.accounts_meta.get(e.me);if(null==a||!a.role)return!0;var r=a.getIn(["role","permissions"]);return!t||(r&t)===t}},1545:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/camera-plus-ca41696e.svg"},1543:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/exclamation-circle-43072482.svg"},1544:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/hash-c000bc5f.svg"},1422:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/layout-grid-572853f4.svg"},1421:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/layout-list-40a74e3e.svg"},1423:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/message-2-f70be650.svg"},1031:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/pin-filled-e13d1e8a.svg"},972:function(){}}]);
//# sourceMappingURL=groups-bf3d2203cae9c3e7293f.chunk.js.map