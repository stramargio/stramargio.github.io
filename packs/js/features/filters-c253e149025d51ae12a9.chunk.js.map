{"version":3,"file":"packs/js/features/filters-c253e149025d51ae12a9.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/filters/edit-filter.tsx","webpack://soapbox/./app/soapbox/features/filters/index.tsx"],"sourcesContent":["import\"core-js/modules/es.object.keys.js\";import\"core-js/modules/es.symbol.js\";import\"core-js/modules/es.object.get-own-property-descriptor.js\";import\"core-js/modules/web.dom-collections.for-each.js\";import\"core-js/modules/es.object.get-own-property-descriptors.js\";import\"core-js/modules/es.object.define-properties.js\";import\"core-js/modules/es.object.define-property.js\";import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import\"core-js/modules/es.array.push.js\";import\"core-js/modules/es.array.concat.js\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.filter.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.array.includes.js\";import\"core-js/modules/es.string.includes.js\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useEffect,useMemo,useState}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{createFilter,fetchFilter,updateFilter}from'soapbox/actions/filters';import List,{ListItem}from'soapbox/components/list';import MissingIndicator from'soapbox/components/missing-indicator';import{Button,Column,Form,FormActions,FormGroup,HStack,Input,Stack,Streamfield,Text,Toggle}from'soapbox/components/ui';import{useAppDispatch,useFeatures}from'soapbox/hooks';import{normalizeFilter}from'soapbox/normalizers';import toast from'soapbox/toast';import{SelectDropdown}from'../forms';var messages=defineMessages({subheading_add_new:{\"id\":\"column.filters.subheading_add_new\",\"defaultMessage\":\"Add New Filter\"},title:{\"id\":\"column.filters.title\",\"defaultMessage\":\"Title\"},keyword:{\"id\":\"column.filters.keyword\",\"defaultMessage\":\"Keyword or phrase\"},keywords:{\"id\":\"column.filters.keywords\",\"defaultMessage\":\"Keywords or phrases\"},expires:{\"id\":\"column.filters.expires\",\"defaultMessage\":\"Expire after\"},home_timeline:{\"id\":\"column.filters.home_timeline\",\"defaultMessage\":\"Home timeline\"},public_timeline:{\"id\":\"column.filters.public_timeline\",\"defaultMessage\":\"Public timeline\"},notifications:{\"id\":\"column.filters.notifications\",\"defaultMessage\":\"Notifications\"},conversations:{\"id\":\"column.filters.conversations\",\"defaultMessage\":\"Conversations\"},accounts:{\"id\":\"column.filters.accounts\",\"defaultMessage\":\"Accounts\"},drop_header:{\"id\":\"column.filters.drop_header\",\"defaultMessage\":\"Drop instead of hide\"},drop_hint:{\"id\":\"column.filters.drop_hint\",\"defaultMessage\":\"Filtered posts will disappear irreversibly, even if filter is later removed\"},hide_header:{\"id\":\"column.filters.hide_header\",\"defaultMessage\":\"Hide completely\"},hide_hint:{\"id\":\"column.filters.hide_hint\",\"defaultMessage\":\"Completely hide the filtered content, instead of showing a warning\"},add_new:{\"id\":\"column.filters.add_new\",\"defaultMessage\":\"Add New Filter\"},edit:{\"id\":\"column.filters.edit\",\"defaultMessage\":\"Edit Filter\"},create_error:{\"id\":\"column.filters.create_error\",\"defaultMessage\":\"Error adding filter\"},expiration_never:{\"id\":\"colum.filters.expiration.never\",\"defaultMessage\":\"Never\"},expiration_1800:{\"id\":\"colum.filters.expiration.1800\",\"defaultMessage\":\"30 minutes\"},expiration_3600:{\"id\":\"colum.filters.expiration.3600\",\"defaultMessage\":\"1 hour\"},expiration_21600:{\"id\":\"colum.filters.expiration.21600\",\"defaultMessage\":\"6 hours\"},expiration_43200:{\"id\":\"colum.filters.expiration.43200\",\"defaultMessage\":\"12 hours\"},expiration_86400:{\"id\":\"colum.filters.expiration.86400\",\"defaultMessage\":\"1 day\"},expiration_604800:{\"id\":\"colum.filters.expiration.604800\",\"defaultMessage\":\"1 week\"}});var FilterField=function FilterField(_ref){var value=_ref.value,onChange=_ref.onChange;var intl=useIntl();var handleChange=function handleChange(key){return function(e){return onChange(_objectSpread(_objectSpread({},value),{},_defineProperty({},key,e.currentTarget[e.currentTarget.type==='checkbox'?'checked':'value'])));};};return/*#__PURE__*/_jsx(HStack,{space:2,grow:true},void 0,/*#__PURE__*/_jsx(Input,{type:\"text\",outerClassName:\"w-2/5 grow\",value:value.keyword,onChange:handleChange('keyword'),placeholder:intl.formatMessage(messages.keyword)}),/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:2},void 0,/*#__PURE__*/_jsx(Toggle,{checked:value.whole_word,onChange:handleChange('whole_word')}),/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"muted\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"column.filters.whole_word\",defaultMessage:\"Whole word\"}))));};var EditFilter=function EditFilter(_ref2){var params=_ref2.params;var intl=useIntl();var history=useHistory();var dispatch=useAppDispatch();var features=useFeatures();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),notFound=_useState4[0],setNotFound=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),expiresIn=_useState8[0],setExpiresIn=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),homeTimeline=_useState10[0],setHomeTimeline=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),publicTimeline=_useState12[0],setPublicTimeline=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),notifications=_useState14[0],setNotifications=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),conversations=_useState16[0],setConversations=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),accounts=_useState18[0],setAccounts=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),hide=_useState20[0],setHide=_useState20[1];var _useState21=useState([{keyword:'',whole_word:false}]),_useState22=_slicedToArray(_useState21,2),keywords=_useState22[0],setKeywords=_useState22[1];var expirations=useMemo(function(){return{'':intl.formatMessage(messages.expiration_never),1800:intl.formatMessage(messages.expiration_1800),3600:intl.formatMessage(messages.expiration_3600),21600:intl.formatMessage(messages.expiration_21600),43200:intl.formatMessage(messages.expiration_43200),86400:intl.formatMessage(messages.expiration_86400),604800:intl.formatMessage(messages.expiration_604800)};},[]);var handleSelectChange=function handleSelectChange(e){setExpiresIn(e.target.value);};var handleAddNew=function handleAddNew(e){e.preventDefault();var context=[];if(homeTimeline){context.push('home');}if(publicTimeline){context.push('public');}if(notifications){context.push('notifications');}if(conversations){context.push('thread');}if(accounts){context.push('account');}dispatch(params.id?updateFilter(params.id,title,expiresIn,context,hide,keywords):createFilter(title,expiresIn,context,hide,keywords)).then(function(){history.push('/filters');}).catch(function(){toast.error(intl.formatMessage(messages.create_error));});};var handleChangeKeyword=function handleChangeKeyword(keywords){return setKeywords(keywords);};var handleAddKeyword=function handleAddKeyword(){return setKeywords(function(keywords){return[].concat(_toConsumableArray(keywords),[{keyword:'',whole_word:false}]);});};var handleRemoveKeyword=function handleRemoveKeyword(i){return setKeywords(function(keywords){return keywords[i].id?keywords.map(function(keyword,index){return index===i?_objectSpread(_objectSpread({},keyword),{},{_destroy:true}):keyword;}):keywords.filter(function(_,index){return index!==i;});});};useEffect(function(){if(params.id){var _dispatch;setLoading(true);(_dispatch=dispatch(fetchFilter(params.id)))===null||_dispatch===void 0?void 0:_dispatch.then(function(res){if(res.filter){var filter=normalizeFilter(res.filter);setTitle(filter.title);setHomeTimeline(filter.context.includes('home'));setPublicTimeline(filter.context.includes('public'));setNotifications(filter.context.includes('notifications'));setConversations(filter.context.includes('thread'));setAccounts(filter.context.includes('account'));setHide(filter.filter_action==='hide');setKeywords(filter.keywords.toJS());}else{setNotFound(true);}setLoading(false);});}},[params.id]);if(notFound)return/*#__PURE__*/_jsx(MissingIndicator,{});return/*#__PURE__*/_jsx(Column,{className:\"filter-settings-panel\",label:intl.formatMessage(messages.subheading_add_new)},void 0,/*#__PURE__*/_jsx(Form,{onSubmit:handleAddNew},void 0,/*#__PURE__*/_jsx(FormGroup,{labelText:intl.formatMessage(messages.title)},void 0,/*#__PURE__*/_jsx(Input,{required:true,type:\"text\",name:\"title\",value:title,onChange:function onChange(_ref3){var target=_ref3.target;return setTitle(target.value);}})),features.filtersExpiration&&/*#__PURE__*/_jsx(FormGroup,{labelText:intl.formatMessage(messages.expires)},void 0,/*#__PURE__*/_jsx(SelectDropdown,{items:expirations,defaultValue:'',onChange:handleSelectChange})),/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(Text,{size:\"sm\",weight:\"medium\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.context_header\",defaultMessage:\"Filter contexts\"})),/*#__PURE__*/_jsx(Text,{size:\"xs\",theme:\"muted\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.context_hint\",defaultMessage:\"One or multiple contexts where the filter should apply\"}))),/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.home_timeline)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:homeTimeline,onChange:function onChange(_ref4){var target=_ref4.target;return setHomeTimeline(target.checked);}})),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.public_timeline)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:publicTimeline,onChange:function onChange(_ref5){var target=_ref5.target;return setPublicTimeline(target.checked);}})),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.notifications)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:notifications,onChange:function onChange(_ref6){var target=_ref6.target;return setNotifications(target.checked);}})),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.conversations)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:conversations,onChange:function onChange(_ref7){var target=_ref7.target;return setConversations(target.checked);}})),features.filtersV2&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.accounts)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:accounts,onChange:function onChange(_ref8){var target=_ref8.target;return setAccounts(target.checked);}}))),/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(features.filtersV2?messages.hide_header:messages.drop_header),hint:intl.formatMessage(features.filtersV2?messages.hide_hint:messages.drop_hint)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:hide,onChange:function onChange(_ref9){var target=_ref9.target;return setHide(target.checked);}}))),/*#__PURE__*/_jsx(Streamfield,{label:intl.formatMessage(messages.keywords),component:FilterField,values:keywords,onChange:handleChangeKeyword,onAddItem:handleAddKeyword,onRemoveItem:handleRemoveKeyword,minItems:1,maxItems:features.filtersV2?Infinity:1}),/*#__PURE__*/_jsx(FormActions,{},void 0,/*#__PURE__*/_jsx(Button,{type:\"submit\",theme:\"primary\",disabled:loading},void 0,intl.formatMessage(params.id?messages.edit:messages.add_new)))));};export default EditFilter;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import\"core-js/modules/es.array.map.js\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{fetchFilters,deleteFilter}from'soapbox/actions/filters';import RelativeTimestamp from'soapbox/components/relative-timestamp';import ScrollableList from'soapbox/components/scrollable-list';import{Button,Column,HStack,Stack,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useFeatures}from'soapbox/hooks';import toast from'soapbox/toast';var messages=defineMessages({heading:{\"id\":\"column.filters\",\"defaultMessage\":\"Muted words\"},home_timeline:{\"id\":\"column.filters.home_timeline\",\"defaultMessage\":\"Home timeline\"},public_timeline:{\"id\":\"column.filters.public_timeline\",\"defaultMessage\":\"Public timeline\"},notifications:{\"id\":\"column.filters.notifications\",\"defaultMessage\":\"Notifications\"},conversations:{\"id\":\"column.filters.conversations\",\"defaultMessage\":\"Conversations\"},accounts:{\"id\":\"column.filters.accounts\",\"defaultMessage\":\"Accounts\"},delete_error:{\"id\":\"column.filters.delete_error\",\"defaultMessage\":\"Error deleting filter\"},edit:{\"id\":\"column.filters.edit\",\"defaultMessage\":\"Edit\"},delete:{\"id\":\"column.filters.delete\",\"defaultMessage\":\"Delete\"}});var contexts={home:messages.home_timeline,public:messages.public_timeline,notifications:messages.notifications,thread:messages.conversations,account:messages.accounts};var Filters=function Filters(){var intl=useIntl();var dispatch=useAppDispatch();var history=useHistory();var _useFeatures=useFeatures(),filtersV2=_useFeatures.filtersV2;var filters=useAppSelector(function(state){return state.filters;});var handleFilterEdit=function handleFilterEdit(id){return function(){return history.push(\"/filters/\".concat(id));};};var handleFilterDelete=function handleFilterDelete(id){return function(){dispatch(deleteFilter(id)).then(function(){return dispatch(fetchFilters(true));}).catch(function(){toast.error(intl.formatMessage(messages.delete_error));});};};useEffect(function(){dispatch(fetchFilters(true));},[]);var emptyMessage=/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.filters\",defaultMessage:\"You haven't created any muted words yet.\"});return/*#__PURE__*/_jsx(Column,{className:\"filter-settings-panel\",label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(HStack,{className:\"mb-4\",space:2,justifyContent:\"end\"},void 0,/*#__PURE__*/_jsx(Button,{to:\"/filters/new\",theme:\"primary\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.create_filter\",defaultMessage:\"Create filter\"}))),/*#__PURE__*/_jsx(ScrollableList,{scrollKey:\"filters\",emptyMessage:emptyMessage,itemClassName:\"pb-4 last:pb-0\"},void 0,filters.map(function(filter){return/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg bg-gray-100 p-4 dark:bg-primary-800\"},filter.id,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Stack,{className:\"grow\",space:1},void 0,/*#__PURE__*/_jsx(Text,{weight:\"medium\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.filters_list_phrases_label\",defaultMessage:\"Keywords or phrases:\"}),' ',/*#__PURE__*/_jsx(Text,{theme:\"muted\",tag:\"span\"},void 0,filter.keywords.map(function(keyword){return keyword.keyword;}).join(', '))),/*#__PURE__*/_jsx(Text,{weight:\"medium\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.filters_list_context_label\",defaultMessage:\"Filter contexts:\"}),' ',/*#__PURE__*/_jsx(Text,{theme:\"muted\",tag:\"span\"},void 0,filter.context.map(function(context){return contexts[context]?intl.formatMessage(contexts[context]):context;}).join(', '))),/*#__PURE__*/_jsx(HStack,{space:4,wrap:true},void 0,/*#__PURE__*/_jsx(Text,{weight:\"medium\"},void 0,filtersV2?filter.filter_action==='hide'?/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.filters_list_hide_completely\",defaultMessage:\"Hide content\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.filters_list_warn\",defaultMessage:\"Display warning\"}):filter.filter_action==='hide'?/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.filters_list_drop\",defaultMessage:\"Drop\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.filters_list_hide\",defaultMessage:\"Hide\"})),filter.expires_at&&/*#__PURE__*/_jsx(Text,{weight:\"medium\"},void 0,new Date(filter.expires_at).getTime()<=Date.now()?/*#__PURE__*/_jsx(FormattedMessage,{id:\"filters.filters_list_expired\",defaultMessage:\"Expired\"}):/*#__PURE__*/_jsx(RelativeTimestamp,{timestamp:filter.expires_at,className:\"whitespace-nowrap\",futureDate:true})))),/*#__PURE__*/_jsx(HStack,{space:2,justifyContent:\"end\"},void 0,/*#__PURE__*/_jsx(Button,{theme:\"primary\",onClick:handleFilterEdit(filter.id)},void 0,intl.formatMessage(messages.edit)),/*#__PURE__*/_jsx(Button,{theme:\"danger\",onClick:handleFilterDelete(filter.id)},void 0,intl.formatMessage(messages.delete)))));})));};export default Filters;"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","messages","subheading_add_new","title","keyword","keywords","expires","home_timeline","public_timeline","notifications","conversations","accounts","drop_header","drop_hint","hide_header","hide_hint","add_new","edit","create_error","expiration_never","expiration_1800","expiration_3600","expiration_21600","expiration_43200","expiration_86400","expiration_604800","FilterField","_ref","value","onChange","intl","handleChange","e","currentTarget","type","space","grow","outerClassName","placeholder","formatMessage","alignItems","checked","whole_word","tag","theme","id","defaultMessage","_ref2","params","history","dispatch","features","_useState","useState","_useState2","loading","setLoading","_useState3","_useState4","notFound","setNotFound","_useState5","_useState6","setTitle","_useState7","_useState8","expiresIn","setExpiresIn","_useState9","_useState10","homeTimeline","setHomeTimeline","_useState11","_useState12","publicTimeline","setPublicTimeline","_useState13","_useState14","setNotifications","_useState15","_useState16","setConversations","_useState17","_useState18","setAccounts","_useState19","_useState20","hide","setHide","_useState21","_useState22","setKeywords","expirations","useMemo","useEffect","_dispatch","then","res","context","includes","filter_action","toJS","className","label","onSubmit","preventDefault","catch","labelText","required","name","_ref3","filtersExpiration","items","defaultValue","size","weight","_ref4","_ref5","_ref6","_ref7","filtersV2","_ref8","hint","_ref9","component","values","onAddItem","concat","onRemoveItem","map","index","_destroy","_","minItems","maxItems","Infinity","disabled","heading","delete_error","delete","contexts","home","public","thread","account","filters","state","handleFilterDelete","emptyMessage","justifyContent","to","scrollKey","itemClassName","join","wrap","expires_at","Date","getTime","now","timestamp","futureDate","onClick"],"sourceRoot":""}