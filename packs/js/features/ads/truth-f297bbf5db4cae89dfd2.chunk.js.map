{"version":3,"file":"packs/js/features/ads/truth-f297bbf5db4cae89dfd2.chunk.js","mappings":"iHAA6hBA,E,gEAA1MC,EAAc,EAAAC,EAAA,OAAS,CAACC,WAAW,EAAAD,EAAA,SAAWE,KAAK,IAAWC,WAAW,EAAAH,EAAA,SAAWI,OAAO,EAAAJ,EAAA,SAAWK,MAAM,MAAuDC,EAAgB,CAACC,QAAsBT,GAAQ,OAA+BU,mBAAmBC,MAAK,SAASC,EAAQC,GAAU,IAAIC,EAAMC,EAASC,EAAiBC,EAAK,OAAOP,mBAAmBQ,MAAK,SAAkBC,GAAU,cAAeA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAA+E,OAA7EP,EAAMD,IAAWE,GAAS,QAAYD,GAAOK,EAASC,KAAK,EAAED,EAASE,KAAK,EAAS,QAAU,mCAAmC,CAACC,QAAQ,CAAC,kBAAkB,EAAApB,EAAA,SAAWK,MAAM,KAAKgB,MAAMR,EAASS,IAAI,cAAc,KAAK,EAA4D,OAA1DR,EAAiBG,EAASM,KAAKR,EAAKD,EAAiBC,KAAYE,EAASO,OAAO,UAAS,QAAczB,GAAesB,MAAMN,IAAO,KAAK,GAAGE,EAASC,KAAK,GAAGD,EAASQ,GAAGR,EAAgB,MAAE,GAAG,KAAK,GAAG,OAAOA,EAASO,OAAO,SAAS,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOP,EAASS,OAAQ,GAAEhB,EAAQ,KAAK,CAAC,CAAC,EAAE,KAAM,KAAI,SAAgBiB,GAAI,OAAO7B,EAAQ8B,MAAMC,KAAKC,UAAW,IAAoB,W","sources":["webpack://soapbox/./app/soapbox/features/ads/providers/truth.ts"],"sourcesContent":["import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import\"regenerator-runtime/runtime.js\";import axios from'axios';import{z}from'zod';import{getSettings}from'soapbox/actions/settings';import{cardSchema}from'soapbox/schemas/card';import{filteredArray}from'soapbox/schemas/utils';/** TruthSocial ad API entity. */var truthAdSchema=z.object({impression:z.string(),card:cardSchema,expires_at:z.string(),reason:z.string().catch('')});/** Provides ads from the TruthSocial API. */var TruthAdProvider={getAds:function(){var _getAds=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(getState){var state,settings,_yield$axios$get,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:state=getState();settings=getSettings(state);_context.prev=2;_context.next=5;return axios.get('/api/v2/truth/ads?device=desktop',{headers:{'Accept-Language':z.string().catch('*').parse(settings.get('locale'))}});case 5:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",filteredArray(truthAdSchema).parse(data));case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);case 12:return _context.abrupt(\"return\",[]);case 13:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));function getAds(_x){return _getAds.apply(this,arguments);}return getAds;}()};export default TruthAdProvider;"],"names":["_getAds","truthAdSchema","z","impression","card","expires_at","reason","catch","TruthAdProvider","getAds","regeneratorRuntime","mark","_callee","getState","state","settings","_yield$axios$get","data","wrap","_context","prev","next","headers","parse","get","sent","abrupt","t0","stop","_x","apply","this","arguments"],"sourceRoot":""}